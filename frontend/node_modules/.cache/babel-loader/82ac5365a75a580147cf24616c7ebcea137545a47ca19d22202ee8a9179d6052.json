{"ast":null,"code":"var _jsxFileName = \"/Users/chandrilmallick/Downloads/web-projects/dabba-app/frontend/src/services/adminNotificationService.js\";\n// services/adminNotificationService.js\nimport { collection, onSnapshot, query, orderBy, limit } from 'firebase/firestore';\nimport { db } from '../firebase/config';\nimport { toast } from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass AdminNotificationService {\n  constructor() {\n    this.unsubscribe = null;\n    this.lastOrderTime = Date.now();\n    this.isListening = false;\n  }\n\n  // Start listening for new orders\n  startListening(adminUserId) {\n    if (this.isListening) return;\n    try {\n      const ordersRef = collection(db, 'orders');\n      const q = query(ordersRef, orderBy('createdAt', 'desc'), limit(10));\n      this.unsubscribe = onSnapshot(q, snapshot => {\n        snapshot.docChanges().forEach(change => {\n          if (change.type === 'added') {\n            var _order$createdAt, _order$createdAt$toDa, _order$createdAt$toDa2;\n            const order = {\n              id: change.doc.id,\n              ...change.doc.data()\n            };\n            const orderTime = ((_order$createdAt = order.createdAt) === null || _order$createdAt === void 0 ? void 0 : (_order$createdAt$toDa = _order$createdAt.toDate) === null || _order$createdAt$toDa === void 0 ? void 0 : (_order$createdAt$toDa2 = _order$createdAt$toDa.call(_order$createdAt)) === null || _order$createdAt$toDa2 === void 0 ? void 0 : _order$createdAt$toDa2.getTime()) || new Date(order.createdAt).getTime();\n\n            // Only notify for orders placed after we started listening\n            if (orderTime > this.lastOrderTime) {\n              this.showNewOrderNotification(order);\n              this.playNotificationSound();\n            }\n          }\n        });\n      }, error => {\n        console.error('Error listening to orders:', error);\n        toast.error('Failed to connect to order notifications');\n      });\n      this.isListening = true;\n      console.log('Admin notification service started');\n    } catch (error) {\n      console.error('Error starting notification service:', error);\n      toast.error('Failed to start notification service');\n    }\n  }\n\n  // Stop listening for new orders\n  stopListening() {\n    if (this.unsubscribe) {\n      this.unsubscribe();\n      this.unsubscribe = null;\n      this.isListening = false;\n      console.log('Admin notification service stopped');\n    }\n  }\n\n  // Show new order notification\n  showNewOrderNotification(order) {\n    var _order$pricing, _order$deliveryAddres, _order$id;\n    const orderValue = ((_order$pricing = order.pricing) === null || _order$pricing === void 0 ? void 0 : _order$pricing.total) || 0;\n    const customerName = ((_order$deliveryAddres = order.deliveryAddress) === null || _order$deliveryAddres === void 0 ? void 0 : _order$deliveryAddres.name) || 'Unknown Customer';\n    const orderNumber = order.orderNumber || ((_order$id = order.id) === null || _order$id === void 0 ? void 0 : _order$id.slice(-6));\n\n    // Create custom notification toast\n    toast.custom(t => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${t.visible ? 'animate-enter' : 'animate-leave'} max-w-md w-full bg-gradient-to-r from-orange-500 to-red-500 shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 w-0 p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-10 h-10 bg-white rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-2xl\",\n                children: \"\\uD83D\\uDD14\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-3 flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-white\",\n              children: \"New Order Received!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-1 text-sm text-orange-100\",\n              children: [\"Order #\", orderNumber]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-orange-100\",\n              children: customerName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-semibold text-white\",\n              children: [\"Amount: \\u20B9\", orderValue]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex border-l border-orange-400\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => toast.dismiss(t.id),\n          className: \"w-full border border-transparent rounded-none rounded-r-lg p-4 flex items-center justify-center text-sm font-medium text-white hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500\",\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), {\n      duration: 8000,\n      position: 'top-right'\n    });\n\n    // Show browser notification if permission granted\n    this.showBrowserNotification(order);\n  }\n\n  // Show browser notification\n  showBrowserNotification(order) {\n    if ('Notification' in window && Notification.permission === 'granted') {\n      var _order$pricing2, _order$deliveryAddres2, _order$id2;\n      const orderValue = ((_order$pricing2 = order.pricing) === null || _order$pricing2 === void 0 ? void 0 : _order$pricing2.total) || 0;\n      const customerName = ((_order$deliveryAddres2 = order.deliveryAddress) === null || _order$deliveryAddres2 === void 0 ? void 0 : _order$deliveryAddres2.name) || 'Unknown Customer';\n      const orderNumber = order.orderNumber || ((_order$id2 = order.id) === null || _order$id2 === void 0 ? void 0 : _order$id2.slice(-6));\n      new Notification('New Order Received - Dabba App', {\n        body: `Order #${orderNumber} from ${customerName} - â‚¹${orderValue}`,\n        icon: '/favicon.ico',\n        badge: '/favicon.ico',\n        tag: `order-${order.id}`,\n        requireInteraction: true,\n        actions: [{\n          action: 'view',\n          title: 'View Order'\n        }, {\n          action: 'dismiss',\n          title: 'Dismiss'\n        }]\n      });\n    }\n  }\n\n  // Play notification sound\n  playNotificationSound() {\n    try {\n      // Create audio context for notification sound\n      const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n\n      // Create a simple notification beep\n      const oscillator = audioContext.createOscillator();\n      const gainNode = audioContext.createGain();\n      oscillator.connect(gainNode);\n      gainNode.connect(audioContext.destination);\n      oscillator.frequency.setValueAtTime(800, audioContext.currentTime);\n      oscillator.frequency.setValueAtTime(600, audioContext.currentTime + 0.1);\n      oscillator.frequency.setValueAtTime(800, audioContext.currentTime + 0.2);\n      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);\n      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);\n      oscillator.start(audioContext.currentTime);\n      oscillator.stop(audioContext.currentTime + 0.3);\n    } catch (error) {\n      console.log('Could not play notification sound:', error);\n    }\n  }\n\n  // Request notification permission\n  static async requestNotificationPermission() {\n    if ('Notification' in window) {\n      const permission = await Notification.requestPermission();\n      return permission === 'granted';\n    }\n    return false;\n  }\n\n  // Notify all active admin sessions of new order\n  notifyAdminsOfNewOrder(order) {\n    try {\n      // Show notification immediately\n      this.showNewOrderNotification(order);\n      this.playNotificationSound();\n\n      // Send browser notification\n      this.showBrowserNotification(order);\n\n      // Log for debugging\n      console.log('Admin notification sent for order:', order.id);\n\n      // You can extend this to send notifications to multiple admin sessions\n      // or integrate with push notification services like FCM\n    } catch (error) {\n      console.error('Error sending admin notification:', error);\n      throw error;\n    }\n  }\n\n  // Check if user is admin\n  static isAdmin(user) {\n    var _user$email, _user$email2;\n    if (!user) return false;\n\n    // Check if email contains 'admin' or specific admin UIDs\n    const adminEmails = ['farhanroit2004@gmail.com', 'chandrilmallick@gmail.com'];\n    const adminUIDs = ['admin-uid-1', 'admin-uid-2']; // Add specific admin UIDs\n\n    return ((_user$email = user.email) === null || _user$email === void 0 ? void 0 : _user$email.toLowerCase().includes('admin')) || adminEmails.includes((_user$email2 = user.email) === null || _user$email2 === void 0 ? void 0 : _user$email2.toLowerCase()) || adminUIDs.includes(user.uid);\n  }\n}\n\n// Create singleton instance\nconst adminNotificationService = new AdminNotificationService();\nexport default adminNotificationService;","map":{"version":3,"names":["collection","onSnapshot","query","orderBy","limit","db","toast","jsxDEV","_jsxDEV","AdminNotificationService","constructor","unsubscribe","lastOrderTime","Date","now","isListening","startListening","adminUserId","ordersRef","q","snapshot","docChanges","forEach","change","type","_order$createdAt","_order$createdAt$toDa","_order$createdAt$toDa2","order","id","doc","data","orderTime","createdAt","toDate","call","getTime","showNewOrderNotification","playNotificationSound","error","console","log","stopListening","_order$pricing","_order$deliveryAddres","_order$id","orderValue","pricing","total","customerName","deliveryAddress","name","orderNumber","slice","custom","t","className","visible","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","dismiss","duration","position","showBrowserNotification","window","Notification","permission","_order$pricing2","_order$deliveryAddres2","_order$id2","body","icon","badge","tag","requireInteraction","actions","action","title","audioContext","AudioContext","webkitAudioContext","oscillator","createOscillator","gainNode","createGain","connect","destination","frequency","setValueAtTime","currentTime","gain","exponentialRampToValueAtTime","start","stop","requestNotificationPermission","requestPermission","notifyAdminsOfNewOrder","isAdmin","user","_user$email","_user$email2","adminEmails","adminUIDs","email","toLowerCase","includes","uid","adminNotificationService"],"sources":["/Users/chandrilmallick/Downloads/web-projects/dabba-app/frontend/src/services/adminNotificationService.js"],"sourcesContent":["// services/adminNotificationService.js\nimport { collection, onSnapshot, query, orderBy, limit } from 'firebase/firestore';\nimport { db } from '../firebase/config';\nimport { toast } from 'react-hot-toast';\n\nclass AdminNotificationService {\n  constructor() {\n    this.unsubscribe = null;\n    this.lastOrderTime = Date.now();\n    this.isListening = false;\n  }\n\n  // Start listening for new orders\n  startListening(adminUserId) {\n    if (this.isListening) return;\n\n    try {\n      const ordersRef = collection(db, 'orders');\n      const q = query(\n        ordersRef,\n        orderBy('createdAt', 'desc'),\n        limit(10)\n      );\n\n      this.unsubscribe = onSnapshot(q, (snapshot) => {\n        snapshot.docChanges().forEach((change) => {\n          if (change.type === 'added') {\n            const order = { id: change.doc.id, ...change.doc.data() };\n            const orderTime = order.createdAt?.toDate?.()?.getTime() || new Date(order.createdAt).getTime();\n            \n            // Only notify for orders placed after we started listening\n            if (orderTime > this.lastOrderTime) {\n              this.showNewOrderNotification(order);\n              this.playNotificationSound();\n            }\n          }\n        });\n      }, (error) => {\n        console.error('Error listening to orders:', error);\n        toast.error('Failed to connect to order notifications');\n      });\n\n      this.isListening = true;\n      console.log('Admin notification service started');\n      \n    } catch (error) {\n      console.error('Error starting notification service:', error);\n      toast.error('Failed to start notification service');\n    }\n  }\n\n  // Stop listening for new orders\n  stopListening() {\n    if (this.unsubscribe) {\n      this.unsubscribe();\n      this.unsubscribe = null;\n      this.isListening = false;\n      console.log('Admin notification service stopped');\n    }\n  }\n\n  // Show new order notification\n  showNewOrderNotification(order) {\n    const orderValue = order.pricing?.total || 0;\n    const customerName = order.deliveryAddress?.name || 'Unknown Customer';\n    const orderNumber = order.orderNumber || order.id?.slice(-6);\n\n    // Create custom notification toast\n    toast.custom((t) => (\n      <div className={`${\n        t.visible ? 'animate-enter' : 'animate-leave'\n      } max-w-md w-full bg-gradient-to-r from-orange-500 to-red-500 shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5`}>\n        <div className=\"flex-1 w-0 p-4\">\n          <div className=\"flex items-start\">\n            <div className=\"flex-shrink-0\">\n              <div className=\"w-10 h-10 bg-white rounded-full flex items-center justify-center\">\n                <span className=\"text-2xl\">ðŸ””</span>\n              </div>\n            </div>\n            <div className=\"ml-3 flex-1\">\n              <p className=\"text-sm font-medium text-white\">\n                New Order Received!\n              </p>\n              <p className=\"mt-1 text-sm text-orange-100\">\n                Order #{orderNumber}\n              </p>\n              <p className=\"text-sm text-orange-100\">\n                {customerName}\n              </p>\n              <p className=\"text-sm font-semibold text-white\">\n                Amount: â‚¹{orderValue}\n              </p>\n            </div>\n          </div>\n        </div>\n        <div className=\"flex border-l border-orange-400\">\n          <button\n            onClick={() => toast.dismiss(t.id)}\n            className=\"w-full border border-transparent rounded-none rounded-r-lg p-4 flex items-center justify-center text-sm font-medium text-white hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500\"\n          >\n            âœ•\n          </button>\n        </div>\n      </div>\n    ), {\n      duration: 8000,\n      position: 'top-right',\n    });\n\n    // Show browser notification if permission granted\n    this.showBrowserNotification(order);\n  }\n\n  // Show browser notification\n  showBrowserNotification(order) {\n    if ('Notification' in window && Notification.permission === 'granted') {\n      const orderValue = order.pricing?.total || 0;\n      const customerName = order.deliveryAddress?.name || 'Unknown Customer';\n      const orderNumber = order.orderNumber || order.id?.slice(-6);\n\n      new Notification('New Order Received - Dabba App', {\n        body: `Order #${orderNumber} from ${customerName} - â‚¹${orderValue}`,\n        icon: '/favicon.ico',\n        badge: '/favicon.ico',\n        tag: `order-${order.id}`,\n        requireInteraction: true,\n        actions: [\n          { action: 'view', title: 'View Order' },\n          { action: 'dismiss', title: 'Dismiss' }\n        ]\n      });\n    }\n  }\n\n  // Play notification sound\n  playNotificationSound() {\n    try {\n      // Create audio context for notification sound\n      const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n      \n      // Create a simple notification beep\n      const oscillator = audioContext.createOscillator();\n      const gainNode = audioContext.createGain();\n      \n      oscillator.connect(gainNode);\n      gainNode.connect(audioContext.destination);\n      \n      oscillator.frequency.setValueAtTime(800, audioContext.currentTime);\n      oscillator.frequency.setValueAtTime(600, audioContext.currentTime + 0.1);\n      oscillator.frequency.setValueAtTime(800, audioContext.currentTime + 0.2);\n      \n      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);\n      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);\n      \n      oscillator.start(audioContext.currentTime);\n      oscillator.stop(audioContext.currentTime + 0.3);\n    } catch (error) {\n      console.log('Could not play notification sound:', error);\n    }\n  }\n\n  // Request notification permission\n  static async requestNotificationPermission() {\n    if ('Notification' in window) {\n      const permission = await Notification.requestPermission();\n      return permission === 'granted';\n    }\n    return false;\n  }\n\n  // Notify all active admin sessions of new order\n  notifyAdminsOfNewOrder(order) {\n    try {\n      // Show notification immediately\n      this.showNewOrderNotification(order);\n      this.playNotificationSound();\n      \n      // Send browser notification\n      this.showBrowserNotification(order);\n      \n      // Log for debugging\n      console.log('Admin notification sent for order:', order.id);\n      \n      // You can extend this to send notifications to multiple admin sessions\n      // or integrate with push notification services like FCM\n      \n    } catch (error) {\n      console.error('Error sending admin notification:', error);\n      throw error;\n    }\n  }\n\n  // Check if user is admin\n  static isAdmin(user) {\n    if (!user) return false;\n    \n    // Check if email contains 'admin' or specific admin UIDs\n    const adminEmails = ['farhanroit2004@gmail.com', 'chandrilmallick@gmail.com'];\n    const adminUIDs = ['admin-uid-1', 'admin-uid-2']; // Add specific admin UIDs\n    \n    return (\n      user.email?.toLowerCase().includes('admin') ||\n      adminEmails.includes(user.email?.toLowerCase()) ||\n      adminUIDs.includes(user.uid)\n    );\n  }\n}\n\n// Create singleton instance\nconst adminNotificationService = new AdminNotificationService();\n\nexport default adminNotificationService;\n"],"mappings":";AAAA;AACA,SAASA,UAAU,EAAEC,UAAU,EAAEC,KAAK,EAAEC,OAAO,EAAEC,KAAK,QAAQ,oBAAoB;AAClF,SAASC,EAAE,QAAQ,oBAAoB;AACvC,SAASC,KAAK,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,MAAMC,wBAAwB,CAAC;EAC7BC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,WAAW,GAAG,IAAI;IACvB,IAAI,CAACC,aAAa,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;IAC/B,IAAI,CAACC,WAAW,GAAG,KAAK;EAC1B;;EAEA;EACAC,cAAcA,CAACC,WAAW,EAAE;IAC1B,IAAI,IAAI,CAACF,WAAW,EAAE;IAEtB,IAAI;MACF,MAAMG,SAAS,GAAGlB,UAAU,CAACK,EAAE,EAAE,QAAQ,CAAC;MAC1C,MAAMc,CAAC,GAAGjB,KAAK,CACbgB,SAAS,EACTf,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC,EAC5BC,KAAK,CAAC,EAAE,CACV,CAAC;MAED,IAAI,CAACO,WAAW,GAAGV,UAAU,CAACkB,CAAC,EAAGC,QAAQ,IAAK;QAC7CA,QAAQ,CAACC,UAAU,CAAC,CAAC,CAACC,OAAO,CAAEC,MAAM,IAAK;UACxC,IAAIA,MAAM,CAACC,IAAI,KAAK,OAAO,EAAE;YAAA,IAAAC,gBAAA,EAAAC,qBAAA,EAAAC,sBAAA;YAC3B,MAAMC,KAAK,GAAG;cAAEC,EAAE,EAAEN,MAAM,CAACO,GAAG,CAACD,EAAE;cAAE,GAAGN,MAAM,CAACO,GAAG,CAACC,IAAI,CAAC;YAAE,CAAC;YACzD,MAAMC,SAAS,GAAG,EAAAP,gBAAA,GAAAG,KAAK,CAACK,SAAS,cAAAR,gBAAA,wBAAAC,qBAAA,GAAfD,gBAAA,CAAiBS,MAAM,cAAAR,qBAAA,wBAAAC,sBAAA,GAAvBD,qBAAA,CAAAS,IAAA,CAAAV,gBAA0B,CAAC,cAAAE,sBAAA,uBAA3BA,sBAAA,CAA6BS,OAAO,CAAC,CAAC,KAAI,IAAIvB,IAAI,CAACe,KAAK,CAACK,SAAS,CAAC,CAACG,OAAO,CAAC,CAAC;;YAE/F;YACA,IAAIJ,SAAS,GAAG,IAAI,CAACpB,aAAa,EAAE;cAClC,IAAI,CAACyB,wBAAwB,CAACT,KAAK,CAAC;cACpC,IAAI,CAACU,qBAAqB,CAAC,CAAC;YAC9B;UACF;QACF,CAAC,CAAC;MACJ,CAAC,EAAGC,KAAK,IAAK;QACZC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;QAClDjC,KAAK,CAACiC,KAAK,CAAC,0CAA0C,CAAC;MACzD,CAAC,CAAC;MAEF,IAAI,CAACxB,WAAW,GAAG,IAAI;MACvByB,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC;IAEnD,CAAC,CAAC,OAAOF,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;MAC5DjC,KAAK,CAACiC,KAAK,CAAC,sCAAsC,CAAC;IACrD;EACF;;EAEA;EACAG,aAAaA,CAAA,EAAG;IACd,IAAI,IAAI,CAAC/B,WAAW,EAAE;MACpB,IAAI,CAACA,WAAW,CAAC,CAAC;MAClB,IAAI,CAACA,WAAW,GAAG,IAAI;MACvB,IAAI,CAACI,WAAW,GAAG,KAAK;MACxByB,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC;IACnD;EACF;;EAEA;EACAJ,wBAAwBA,CAACT,KAAK,EAAE;IAAA,IAAAe,cAAA,EAAAC,qBAAA,EAAAC,SAAA;IAC9B,MAAMC,UAAU,GAAG,EAAAH,cAAA,GAAAf,KAAK,CAACmB,OAAO,cAAAJ,cAAA,uBAAbA,cAAA,CAAeK,KAAK,KAAI,CAAC;IAC5C,MAAMC,YAAY,GAAG,EAAAL,qBAAA,GAAAhB,KAAK,CAACsB,eAAe,cAAAN,qBAAA,uBAArBA,qBAAA,CAAuBO,IAAI,KAAI,kBAAkB;IACtE,MAAMC,WAAW,GAAGxB,KAAK,CAACwB,WAAW,MAAAP,SAAA,GAAIjB,KAAK,CAACC,EAAE,cAAAgB,SAAA,uBAARA,SAAA,CAAUQ,KAAK,CAAC,CAAC,CAAC,CAAC;;IAE5D;IACA/C,KAAK,CAACgD,MAAM,CAAEC,CAAC,iBACb/C,OAAA;MAAKgD,SAAS,EAAE,GACdD,CAAC,CAACE,OAAO,GAAG,eAAe,GAAG,eAAe,6IAC+F;MAAAC,QAAA,gBAC5IlD,OAAA;QAAKgD,SAAS,EAAC,gBAAgB;QAAAE,QAAA,eAC7BlD,OAAA;UAAKgD,SAAS,EAAC,kBAAkB;UAAAE,QAAA,gBAC/BlD,OAAA;YAAKgD,SAAS,EAAC,eAAe;YAAAE,QAAA,eAC5BlD,OAAA;cAAKgD,SAAS,EAAC,kEAAkE;cAAAE,QAAA,eAC/ElD,OAAA;gBAAMgD,SAAS,EAAC,UAAU;gBAAAE,QAAA,EAAC;cAAE;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACNtD,OAAA;YAAKgD,SAAS,EAAC,aAAa;YAAAE,QAAA,gBAC1BlD,OAAA;cAAGgD,SAAS,EAAC,gCAAgC;cAAAE,QAAA,EAAC;YAE9C;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eACJtD,OAAA;cAAGgD,SAAS,EAAC,8BAA8B;cAAAE,QAAA,GAAC,SACnC,EAACN,WAAW;YAAA;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClB,CAAC,eACJtD,OAAA;cAAGgD,SAAS,EAAC,yBAAyB;cAAAE,QAAA,EACnCT;YAAY;cAAAU,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACZ,CAAC,eACJtD,OAAA;cAAGgD,SAAS,EAAC,kCAAkC;cAAAE,QAAA,GAAC,gBACrC,EAACZ,UAAU;YAAA;cAAAa,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnB,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACNtD,OAAA;QAAKgD,SAAS,EAAC,iCAAiC;QAAAE,QAAA,eAC9ClD,OAAA;UACEuD,OAAO,EAAEA,CAAA,KAAMzD,KAAK,CAAC0D,OAAO,CAACT,CAAC,CAAC1B,EAAE,CAAE;UACnC2B,SAAS,EAAC,0MAA0M;UAAAE,QAAA,EACrN;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAAE;MACDG,QAAQ,EAAE,IAAI;MACdC,QAAQ,EAAE;IACZ,CAAC,CAAC;;IAEF;IACA,IAAI,CAACC,uBAAuB,CAACvC,KAAK,CAAC;EACrC;;EAEA;EACAuC,uBAAuBA,CAACvC,KAAK,EAAE;IAC7B,IAAI,cAAc,IAAIwC,MAAM,IAAIC,YAAY,CAACC,UAAU,KAAK,SAAS,EAAE;MAAA,IAAAC,eAAA,EAAAC,sBAAA,EAAAC,UAAA;MACrE,MAAM3B,UAAU,GAAG,EAAAyB,eAAA,GAAA3C,KAAK,CAACmB,OAAO,cAAAwB,eAAA,uBAAbA,eAAA,CAAevB,KAAK,KAAI,CAAC;MAC5C,MAAMC,YAAY,GAAG,EAAAuB,sBAAA,GAAA5C,KAAK,CAACsB,eAAe,cAAAsB,sBAAA,uBAArBA,sBAAA,CAAuBrB,IAAI,KAAI,kBAAkB;MACtE,MAAMC,WAAW,GAAGxB,KAAK,CAACwB,WAAW,MAAAqB,UAAA,GAAI7C,KAAK,CAACC,EAAE,cAAA4C,UAAA,uBAARA,UAAA,CAAUpB,KAAK,CAAC,CAAC,CAAC,CAAC;MAE5D,IAAIgB,YAAY,CAAC,gCAAgC,EAAE;QACjDK,IAAI,EAAE,UAAUtB,WAAW,SAASH,YAAY,OAAOH,UAAU,EAAE;QACnE6B,IAAI,EAAE,cAAc;QACpBC,KAAK,EAAE,cAAc;QACrBC,GAAG,EAAE,SAASjD,KAAK,CAACC,EAAE,EAAE;QACxBiD,kBAAkB,EAAE,IAAI;QACxBC,OAAO,EAAE,CACP;UAAEC,MAAM,EAAE,MAAM;UAAEC,KAAK,EAAE;QAAa,CAAC,EACvC;UAAED,MAAM,EAAE,SAAS;UAAEC,KAAK,EAAE;QAAU,CAAC;MAE3C,CAAC,CAAC;IACJ;EACF;;EAEA;EACA3C,qBAAqBA,CAAA,EAAG;IACtB,IAAI;MACF;MACA,MAAM4C,YAAY,GAAG,KAAKd,MAAM,CAACe,YAAY,IAAIf,MAAM,CAACgB,kBAAkB,EAAE,CAAC;;MAE7E;MACA,MAAMC,UAAU,GAAGH,YAAY,CAACI,gBAAgB,CAAC,CAAC;MAClD,MAAMC,QAAQ,GAAGL,YAAY,CAACM,UAAU,CAAC,CAAC;MAE1CH,UAAU,CAACI,OAAO,CAACF,QAAQ,CAAC;MAC5BA,QAAQ,CAACE,OAAO,CAACP,YAAY,CAACQ,WAAW,CAAC;MAE1CL,UAAU,CAACM,SAAS,CAACC,cAAc,CAAC,GAAG,EAAEV,YAAY,CAACW,WAAW,CAAC;MAClER,UAAU,CAACM,SAAS,CAACC,cAAc,CAAC,GAAG,EAAEV,YAAY,CAACW,WAAW,GAAG,GAAG,CAAC;MACxER,UAAU,CAACM,SAAS,CAACC,cAAc,CAAC,GAAG,EAAEV,YAAY,CAACW,WAAW,GAAG,GAAG,CAAC;MAExEN,QAAQ,CAACO,IAAI,CAACF,cAAc,CAAC,GAAG,EAAEV,YAAY,CAACW,WAAW,CAAC;MAC3DN,QAAQ,CAACO,IAAI,CAACC,4BAA4B,CAAC,IAAI,EAAEb,YAAY,CAACW,WAAW,GAAG,GAAG,CAAC;MAEhFR,UAAU,CAACW,KAAK,CAACd,YAAY,CAACW,WAAW,CAAC;MAC1CR,UAAU,CAACY,IAAI,CAACf,YAAY,CAACW,WAAW,GAAG,GAAG,CAAC;IACjD,CAAC,CAAC,OAAOtD,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAAC,oCAAoC,EAAEF,KAAK,CAAC;IAC1D;EACF;;EAEA;EACA,aAAa2D,6BAA6BA,CAAA,EAAG;IAC3C,IAAI,cAAc,IAAI9B,MAAM,EAAE;MAC5B,MAAME,UAAU,GAAG,MAAMD,YAAY,CAAC8B,iBAAiB,CAAC,CAAC;MACzD,OAAO7B,UAAU,KAAK,SAAS;IACjC;IACA,OAAO,KAAK;EACd;;EAEA;EACA8B,sBAAsBA,CAACxE,KAAK,EAAE;IAC5B,IAAI;MACF;MACA,IAAI,CAACS,wBAAwB,CAACT,KAAK,CAAC;MACpC,IAAI,CAACU,qBAAqB,CAAC,CAAC;;MAE5B;MACA,IAAI,CAAC6B,uBAAuB,CAACvC,KAAK,CAAC;;MAEnC;MACAY,OAAO,CAACC,GAAG,CAAC,oCAAoC,EAAEb,KAAK,CAACC,EAAE,CAAC;;MAE3D;MACA;IAEF,CAAC,CAAC,OAAOU,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;MACzD,MAAMA,KAAK;IACb;EACF;;EAEA;EACA,OAAO8D,OAAOA,CAACC,IAAI,EAAE;IAAA,IAAAC,WAAA,EAAAC,YAAA;IACnB,IAAI,CAACF,IAAI,EAAE,OAAO,KAAK;;IAEvB;IACA,MAAMG,WAAW,GAAG,CAAC,0BAA0B,EAAE,2BAA2B,CAAC;IAC7E,MAAMC,SAAS,GAAG,CAAC,aAAa,EAAE,aAAa,CAAC,CAAC,CAAC;;IAElD,OACE,EAAAH,WAAA,GAAAD,IAAI,CAACK,KAAK,cAAAJ,WAAA,uBAAVA,WAAA,CAAYK,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,OAAO,CAAC,KAC3CJ,WAAW,CAACI,QAAQ,EAAAL,YAAA,GAACF,IAAI,CAACK,KAAK,cAAAH,YAAA,uBAAVA,YAAA,CAAYI,WAAW,CAAC,CAAC,CAAC,IAC/CF,SAAS,CAACG,QAAQ,CAACP,IAAI,CAACQ,GAAG,CAAC;EAEhC;AACF;;AAEA;AACA,MAAMC,wBAAwB,GAAG,IAAItG,wBAAwB,CAAC,CAAC;AAE/D,eAAesG,wBAAwB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}