{"ast":null,"code":"// Centralized error handling for production\nimport{toast}from'react-hot-toast';export class ErrorHandler{static logError(error){let context=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';console.error(\"[\".concat(context,\"] Error:\"),error);// In production, you might want to send to error tracking service\nif(process.env.NODE_ENV==='production'){// Example: Sentry.captureException(error, { tags: { context } });\n}}static handleAuthError(error){const message=this.getAuthErrorMessage(error);toast.error(message);this.logError(error,'AUTH');}static handleFirestoreError(error){const message=this.getFirestoreErrorMessage(error);toast.error(message);this.logError(error,'FIRESTORE');}static handleOrderError(error){const message=this.getOrderErrorMessage(error);toast.error(message);this.logError(error,'ORDER');}static getAuthErrorMessage(error){const code=(error===null||error===void 0?void 0:error.code)||(error===null||error===void 0?void 0:error.message)||'';switch(code){case'auth/invalid-phone-number':return'Please enter a valid phone number';case'auth/too-many-requests':return'Too many attempts. Please try again later';case'auth/invalid-verification-code':return'Invalid OTP. Please check and try again';case'auth/code-expired':return'OTP has expired. Please request a new one';case'auth/admin-restricted-operation':return'Authentication service temporarily unavailable';default:return'Authentication failed. Please try again';}}static getFirestoreErrorMessage(error){const code=(error===null||error===void 0?void 0:error.code)||(error===null||error===void 0?void 0:error.message)||'';switch(code){case'permission-denied':return'Access denied. Please login again';case'unavailable':return'Service temporarily unavailable. Please try again';case'deadline-exceeded':return'Request timed out. Please try again';case'invalid-argument':return'Invalid data. Please check your input';default:return'Database error. Please try again';}}static getOrderErrorMessage(error){const message=(error===null||error===void 0?void 0:error.message)||'';if(message.includes('userId')){return'Please login again to place order';}if(message.includes('permission')){return'Unable to place order. Please login again';}if(message.includes('network')){return'Network error. Please check your connection';}return'Failed to place order. Please try again';}static handleNetworkError(error){toast.error('Network error. Please check your connection');this.logError(error,'NETWORK');}static showSuccess(message){toast.success(message);}static showInfo(message){toast(message,{icon:'ℹ️'});}}export default ErrorHandler;","map":{"version":3,"names":["toast","ErrorHandler","logError","error","context","arguments","length","undefined","console","concat","process","env","NODE_ENV","handleAuthError","message","getAuthErrorMessage","handleFirestoreError","getFirestoreErrorMessage","handleOrderError","getOrderErrorMessage","code","includes","handleNetworkError","showSuccess","success","showInfo","icon"],"sources":["/Users/chandrilmallick/Downloads/web-projects/dabba-app/frontend/src/utils/errorHandler.js"],"sourcesContent":["// Centralized error handling for production\nimport { toast } from 'react-hot-toast';\n\nexport class ErrorHandler {\n  static logError(error, context = '') {\n    console.error(`[${context}] Error:`, error);\n    \n    // In production, you might want to send to error tracking service\n    if (process.env.NODE_ENV === 'production') {\n      // Example: Sentry.captureException(error, { tags: { context } });\n    }\n  }\n\n  static handleAuthError(error) {\n    const message = this.getAuthErrorMessage(error);\n    toast.error(message);\n    this.logError(error, 'AUTH');\n  }\n\n  static handleFirestoreError(error) {\n    const message = this.getFirestoreErrorMessage(error);\n    toast.error(message);\n    this.logError(error, 'FIRESTORE');\n  }\n\n  static handleOrderError(error) {\n    const message = this.getOrderErrorMessage(error);\n    toast.error(message);\n    this.logError(error, 'ORDER');\n  }\n\n  static getAuthErrorMessage(error) {\n    const code = error?.code || error?.message || '';\n    \n    switch (code) {\n      case 'auth/invalid-phone-number':\n        return 'Please enter a valid phone number';\n      case 'auth/too-many-requests':\n        return 'Too many attempts. Please try again later';\n      case 'auth/invalid-verification-code':\n        return 'Invalid OTP. Please check and try again';\n      case 'auth/code-expired':\n        return 'OTP has expired. Please request a new one';\n      case 'auth/admin-restricted-operation':\n        return 'Authentication service temporarily unavailable';\n      default:\n        return 'Authentication failed. Please try again';\n    }\n  }\n\n  static getFirestoreErrorMessage(error) {\n    const code = error?.code || error?.message || '';\n    \n    switch (code) {\n      case 'permission-denied':\n        return 'Access denied. Please login again';\n      case 'unavailable':\n        return 'Service temporarily unavailable. Please try again';\n      case 'deadline-exceeded':\n        return 'Request timed out. Please try again';\n      case 'invalid-argument':\n        return 'Invalid data. Please check your input';\n      default:\n        return 'Database error. Please try again';\n    }\n  }\n\n  static getOrderErrorMessage(error) {\n    const message = error?.message || '';\n    \n    if (message.includes('userId')) {\n      return 'Please login again to place order';\n    }\n    if (message.includes('permission')) {\n      return 'Unable to place order. Please login again';\n    }\n    if (message.includes('network')) {\n      return 'Network error. Please check your connection';\n    }\n    \n    return 'Failed to place order. Please try again';\n  }\n\n  static handleNetworkError(error) {\n    toast.error('Network error. Please check your connection');\n    this.logError(error, 'NETWORK');\n  }\n\n  static showSuccess(message) {\n    toast.success(message);\n  }\n\n  static showInfo(message) {\n    toast(message, { icon: 'ℹ️' });\n  }\n}\n\nexport default ErrorHandler;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}