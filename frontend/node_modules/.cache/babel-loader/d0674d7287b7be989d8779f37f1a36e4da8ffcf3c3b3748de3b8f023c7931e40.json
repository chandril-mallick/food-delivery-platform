{"ast":null,"code":"// Production readiness checker for Dabba App\nexport const ProductionChecker = {\n  // Check environment variables\n  checkEnvironment: () => {\n    const issues = [];\n\n    // Firebase config\n    const firebaseVars = ['REACT_APP_FIREBASE_API_KEY', 'REACT_APP_FIREBASE_AUTH_DOMAIN', 'REACT_APP_FIREBASE_PROJECT_ID', 'REACT_APP_FIREBASE_STORAGE_BUCKET', 'REACT_APP_FIREBASE_MESSAGING_SENDER_ID', 'REACT_APP_FIREBASE_APP_ID'];\n    firebaseVars.forEach(varName => {\n      if (!process.env[varName]) {\n        issues.push(`Missing Firebase environment variable: ${varName}`);\n      }\n    });\n\n    // Supabase config\n    const supabaseVars = ['REACT_APP_SUPABASE_URL', 'REACT_APP_SUPABASE_ANON_KEY'];\n    supabaseVars.forEach(varName => {\n      if (!process.env[varName]) {\n        issues.push(`Missing Supabase environment variable: ${varName}`);\n      }\n    });\n\n    // Auth provider\n    if (!process.env.REACT_APP_AUTH_PROVIDER) {\n      issues.push('Missing REACT_APP_AUTH_PROVIDER');\n    }\n    return issues;\n  },\n  // Check Firebase connection\n  checkFirebaseConnection: async () => {\n    try {\n      const {\n        db\n      } = await import('../firebase/config.js');\n      const {\n        collection,\n        getDocs,\n        limit,\n        query\n      } = await import('firebase/firestore');\n\n      // Test Firestore connection\n      await getDocs(query(collection(db, 'orders'), limit(1)));\n      return {\n        success: true,\n        message: 'Firebase Firestore connected'\n      };\n    } catch (error) {\n      return {\n        success: false,\n        message: `Firebase connection failed: ${error.message}`\n      };\n    }\n  },\n  // Check Supabase connection\n  checkSupabaseConnection: async () => {\n    try {\n      const {\n        supabase\n      } = await import('../lib/supabaseClient.js');\n      const {\n        error\n      } = await supabase.auth.getSession();\n      if (error && error.message !== 'Auth session missing!') {\n        throw error;\n      }\n      return {\n        success: true,\n        message: 'Supabase connected'\n      };\n    } catch (error) {\n      return {\n        success: false,\n        message: `Supabase connection failed: ${error.message}`\n      };\n    }\n  },\n  // Check authentication flow\n  checkAuthFlow: async () => {\n    try {\n      const {\n        default: supabaseAuthService\n      } = await import('../services/supabaseAuthService.js');\n\n      // Test if auth service is properly initialized\n      if (!supabaseAuthService.sendOTP) {\n        throw new Error('Supabase auth service not properly initialized');\n      }\n      return {\n        success: true,\n        message: 'Authentication service ready'\n      };\n    } catch (error) {\n      return {\n        success: false,\n        message: `Auth flow check failed: ${error.message}`\n      };\n    }\n  },\n  // Run all checks\n  runAllChecks: async () => {\n    console.log('üîç Running production readiness checks...');\n    const results = {\n      environment: ProductionChecker.checkEnvironment(),\n      firebase: await ProductionChecker.checkFirebaseConnection(),\n      supabase: await ProductionChecker.checkSupabaseConnection(),\n      auth: await ProductionChecker.checkAuthFlow()\n    };\n    const allPassed = results.environment.length === 0 && results.firebase.success && results.supabase.success && results.auth.success;\n    console.log('üìä Production Readiness Results:', results);\n    return {\n      passed: allPassed,\n      results\n    };\n  }\n};\nexport default ProductionChecker;","map":{"version":3,"names":["ProductionChecker","checkEnvironment","issues","firebaseVars","forEach","varName","process","env","push","supabaseVars","REACT_APP_AUTH_PROVIDER","checkFirebaseConnection","db","collection","getDocs","limit","query","success","message","error","checkSupabaseConnection","supabase","auth","getSession","checkAuthFlow","default","supabaseAuthService","sendOTP","Error","runAllChecks","console","log","results","environment","firebase","allPassed","length","passed"],"sources":["/Users/chandrilmallick/Downloads/web-projects/dabba-app/frontend/src/utils/productionCheck.js"],"sourcesContent":["// Production readiness checker for Dabba App\nexport const ProductionChecker = {\n  // Check environment variables\n  checkEnvironment: () => {\n    const issues = [];\n    \n    // Firebase config\n    const firebaseVars = [\n      'REACT_APP_FIREBASE_API_KEY',\n      'REACT_APP_FIREBASE_AUTH_DOMAIN',\n      'REACT_APP_FIREBASE_PROJECT_ID',\n      'REACT_APP_FIREBASE_STORAGE_BUCKET',\n      'REACT_APP_FIREBASE_MESSAGING_SENDER_ID',\n      'REACT_APP_FIREBASE_APP_ID'\n    ];\n    \n    firebaseVars.forEach(varName => {\n      if (!process.env[varName]) {\n        issues.push(`Missing Firebase environment variable: ${varName}`);\n      }\n    });\n    \n    // Supabase config\n    const supabaseVars = [\n      'REACT_APP_SUPABASE_URL',\n      'REACT_APP_SUPABASE_ANON_KEY'\n    ];\n    \n    supabaseVars.forEach(varName => {\n      if (!process.env[varName]) {\n        issues.push(`Missing Supabase environment variable: ${varName}`);\n      }\n    });\n    \n    // Auth provider\n    if (!process.env.REACT_APP_AUTH_PROVIDER) {\n      issues.push('Missing REACT_APP_AUTH_PROVIDER');\n    }\n    \n    return issues;\n  },\n  \n  // Check Firebase connection\n  checkFirebaseConnection: async () => {\n    try {\n      const { db } = await import('../firebase/config.js');\n      const { collection, getDocs, limit, query } = await import('firebase/firestore');\n      \n      // Test Firestore connection\n      await getDocs(query(collection(db, 'orders'), limit(1)));\n      return { success: true, message: 'Firebase Firestore connected' };\n    } catch (error) {\n      return { success: false, message: `Firebase connection failed: ${error.message}` };\n    }\n  },\n  \n  // Check Supabase connection\n  checkSupabaseConnection: async () => {\n    try {\n      const { supabase } = await import('../lib/supabaseClient.js');\n      const { error } = await supabase.auth.getSession();\n      \n      if (error && error.message !== 'Auth session missing!') {\n        throw error;\n      }\n      \n      return { success: true, message: 'Supabase connected' };\n    } catch (error) {\n      return { success: false, message: `Supabase connection failed: ${error.message}` };\n    }\n  },\n  \n  // Check authentication flow\n  checkAuthFlow: async () => {\n    try {\n      const { default: supabaseAuthService } = await import('../services/supabaseAuthService.js');\n      \n      // Test if auth service is properly initialized\n      if (!supabaseAuthService.sendOTP) {\n        throw new Error('Supabase auth service not properly initialized');\n      }\n      \n      return { success: true, message: 'Authentication service ready' };\n    } catch (error) {\n      return { success: false, message: `Auth flow check failed: ${error.message}` };\n    }\n  },\n  \n  // Run all checks\n  runAllChecks: async () => {\n    console.log('üîç Running production readiness checks...');\n    \n    const results = {\n      environment: ProductionChecker.checkEnvironment(),\n      firebase: await ProductionChecker.checkFirebaseConnection(),\n      supabase: await ProductionChecker.checkSupabaseConnection(),\n      auth: await ProductionChecker.checkAuthFlow()\n    };\n    \n    const allPassed = results.environment.length === 0 && \n                     results.firebase.success && \n                     results.supabase.success && \n                     results.auth.success;\n    \n    console.log('üìä Production Readiness Results:', results);\n    \n    return {\n      passed: allPassed,\n      results\n    };\n  }\n};\n\nexport default ProductionChecker;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}