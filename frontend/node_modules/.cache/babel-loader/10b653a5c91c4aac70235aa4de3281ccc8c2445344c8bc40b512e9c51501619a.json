{"ast":null,"code":"// Production readiness checker for Dabba App\nexport const ProductionChecker={// Check environment variables\ncheckEnvironment:()=>{const issues=[];// Firebase config\nconst firebaseVars=['REACT_APP_FIREBASE_API_KEY','REACT_APP_FIREBASE_AUTH_DOMAIN','REACT_APP_FIREBASE_PROJECT_ID','REACT_APP_FIREBASE_STORAGE_BUCKET','REACT_APP_FIREBASE_MESSAGING_SENDER_ID','REACT_APP_FIREBASE_APP_ID'];firebaseVars.forEach(varName=>{if(!process.env[varName]){issues.push(\"Missing Firebase environment variable: \".concat(varName));}});// Supabase config\nconst supabaseVars=['REACT_APP_SUPABASE_URL','REACT_APP_SUPABASE_ANON_KEY'];supabaseVars.forEach(varName=>{if(!process.env[varName]){issues.push(\"Missing Supabase environment variable: \".concat(varName));}});// Auth provider\nif(!process.env.REACT_APP_AUTH_PROVIDER){issues.push('Missing REACT_APP_AUTH_PROVIDER');}return issues;},// Check Firebase connection\ncheckFirebaseConnection:async()=>{try{const{db}=await import('../firebase/config.js');const{collection,getDocs,limit,query}=await import('firebase/firestore');// Test Firestore connection\nawait getDocs(query(collection(db,'orders'),limit(1)));return{success:true,message:'Firebase Firestore connected'};}catch(error){return{success:false,message:\"Firebase connection failed: \".concat(error.message)};}},// Check Supabase connection\ncheckSupabaseConnection:async()=>{try{const{supabase}=await import('../lib/supabaseClient.js');const{error}=await supabase.auth.getSession();if(error&&error.message!=='Auth session missing!'){throw error;}return{success:true,message:'Supabase connected'};}catch(error){return{success:false,message:\"Supabase connection failed: \".concat(error.message)};}},// Check authentication flow\ncheckAuthFlow:async()=>{try{const{default:supabaseAuthService}=await import('../services/supabaseAuthService.js');// Test if auth service is properly initialized\nif(!supabaseAuthService.sendOTP){throw new Error('Supabase auth service not properly initialized');}return{success:true,message:'Authentication service ready'};}catch(error){return{success:false,message:\"Auth flow check failed: \".concat(error.message)};}},// Run all checks\nrunAllChecks:async()=>{console.log('üîç Running production readiness checks...');const results={environment:ProductionChecker.checkEnvironment(),firebase:await ProductionChecker.checkFirebaseConnection(),supabase:await ProductionChecker.checkSupabaseConnection(),auth:await ProductionChecker.checkAuthFlow()};const allPassed=results.environment.length===0&&results.firebase.success&&results.supabase.success&&results.auth.success;console.log('üìä Production Readiness Results:',results);return{passed:allPassed,results};}};export default ProductionChecker;","map":{"version":3,"names":["ProductionChecker","checkEnvironment","issues","firebaseVars","forEach","varName","process","env","push","concat","supabaseVars","REACT_APP_AUTH_PROVIDER","checkFirebaseConnection","db","collection","getDocs","limit","query","success","message","error","checkSupabaseConnection","supabase","auth","getSession","checkAuthFlow","default","supabaseAuthService","sendOTP","Error","runAllChecks","console","log","results","environment","firebase","allPassed","length","passed"],"sources":["/Users/chandrilmallick/Downloads/web-projects/dabba-app/frontend/src/utils/productionCheck.js"],"sourcesContent":["// Production readiness checker for Dabba App\nexport const ProductionChecker = {\n  // Check environment variables\n  checkEnvironment: () => {\n    const issues = [];\n    \n    // Firebase config\n    const firebaseVars = [\n      'REACT_APP_FIREBASE_API_KEY',\n      'REACT_APP_FIREBASE_AUTH_DOMAIN',\n      'REACT_APP_FIREBASE_PROJECT_ID',\n      'REACT_APP_FIREBASE_STORAGE_BUCKET',\n      'REACT_APP_FIREBASE_MESSAGING_SENDER_ID',\n      'REACT_APP_FIREBASE_APP_ID'\n    ];\n    \n    firebaseVars.forEach(varName => {\n      if (!process.env[varName]) {\n        issues.push(`Missing Firebase environment variable: ${varName}`);\n      }\n    });\n    \n    // Supabase config\n    const supabaseVars = [\n      'REACT_APP_SUPABASE_URL',\n      'REACT_APP_SUPABASE_ANON_KEY'\n    ];\n    \n    supabaseVars.forEach(varName => {\n      if (!process.env[varName]) {\n        issues.push(`Missing Supabase environment variable: ${varName}`);\n      }\n    });\n    \n    // Auth provider\n    if (!process.env.REACT_APP_AUTH_PROVIDER) {\n      issues.push('Missing REACT_APP_AUTH_PROVIDER');\n    }\n    \n    return issues;\n  },\n  \n  // Check Firebase connection\n  checkFirebaseConnection: async () => {\n    try {\n      const { db } = await import('../firebase/config.js');\n      const { collection, getDocs, limit, query } = await import('firebase/firestore');\n      \n      // Test Firestore connection\n      await getDocs(query(collection(db, 'orders'), limit(1)));\n      return { success: true, message: 'Firebase Firestore connected' };\n    } catch (error) {\n      return { success: false, message: `Firebase connection failed: ${error.message}` };\n    }\n  },\n  \n  // Check Supabase connection\n  checkSupabaseConnection: async () => {\n    try {\n      const { supabase } = await import('../lib/supabaseClient.js');\n      const { error } = await supabase.auth.getSession();\n      \n      if (error && error.message !== 'Auth session missing!') {\n        throw error;\n      }\n      \n      return { success: true, message: 'Supabase connected' };\n    } catch (error) {\n      return { success: false, message: `Supabase connection failed: ${error.message}` };\n    }\n  },\n  \n  // Check authentication flow\n  checkAuthFlow: async () => {\n    try {\n      const { default: supabaseAuthService } = await import('../services/supabaseAuthService.js');\n      \n      // Test if auth service is properly initialized\n      if (!supabaseAuthService.sendOTP) {\n        throw new Error('Supabase auth service not properly initialized');\n      }\n      \n      return { success: true, message: 'Authentication service ready' };\n    } catch (error) {\n      return { success: false, message: `Auth flow check failed: ${error.message}` };\n    }\n  },\n  \n  // Run all checks\n  runAllChecks: async () => {\n    console.log('üîç Running production readiness checks...');\n    \n    const results = {\n      environment: ProductionChecker.checkEnvironment(),\n      firebase: await ProductionChecker.checkFirebaseConnection(),\n      supabase: await ProductionChecker.checkSupabaseConnection(),\n      auth: await ProductionChecker.checkAuthFlow()\n    };\n    \n    const allPassed = results.environment.length === 0 && \n                     results.firebase.success && \n                     results.supabase.success && \n                     results.auth.success;\n    \n    console.log('üìä Production Readiness Results:', results);\n    \n    return {\n      passed: allPassed,\n      results\n    };\n  }\n};\n\nexport default ProductionChecker;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}