{"ast":null,"code":"var _jsxFileName = \"/Users/chandrilmallick/Downloads/web-projects/dabba-app/frontend/src/context/CartContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext();\nexport const CartProvider = ({\n  children\n}) => {\n  _s();\n  const [cartItems, setCartItems] = useState([]);\n  const addToCart = item => {\n    const exist = cartItems.find(i => i.id === item.id);\n    if (exist) {\n      setCartItems(prev => prev.map(i => i.id === item.id ? {\n        ...i,\n        qty: i.qty + item.qty\n      } : i));\n    } else {\n      setCartItems(prev => [...prev, {\n        ...item,\n        qty: item.qty || 1\n      }]);\n    }\n  };\n  const removeFromCart = id => {\n    setCartItems(prev => prev.filter(item => item.id !== id));\n  };\n  const changeQty = (id, qty) => {\n    setCartItems(prev => prev.map(item => item.id === id ? {\n      ...item,\n      qty: qty > 0 ? qty : 1\n    } : item));\n  };\n  const increaseQty = id => {\n    const item = cartItems.find(item => item.id === id);\n    if (item) changeQty(id, item.qty + 1);\n  };\n  const decreaseQty = id => {\n    const item = cartItems.find(item => item.id === id);\n    if (item && item.qty > 1) changeQty(id, item.qty - 1);\n  };\n  const clearCart = () => {\n    setCartItems([]);\n  };\n  const subtotal = cartItems.reduce((total, item) => total + item.price * item.qty, 0);\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cartItems,\n      addToCart,\n      removeFromCart,\n      changeQty,\n      increaseQty,\n      decreaseQty,\n      clearCart,\n      subtotal\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(CartProvider, \"jeyeRm/hZ/3zvXF4PAYTLSHDNRs=\");\n_c = CartProvider;\nexport const useCart = () => {\n  _s2();\n  return useContext(CartContext);\n};\n_s2(useCart, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","jsxDEV","_jsxDEV","CartContext","CartProvider","children","_s","cartItems","setCartItems","addToCart","item","exist","find","i","id","prev","map","qty","removeFromCart","filter","changeQty","increaseQty","decreaseQty","clearCart","subtotal","reduce","total","price","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useCart","_s2","$RefreshReg$"],"sources":["/Users/chandrilmallick/Downloads/web-projects/dabba-app/frontend/src/context/CartContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useState } from \"react\";\n\nconst CartContext = createContext();\n\nexport const CartProvider = ({ children }) => {\n  const [cartItems, setCartItems] = useState([]);\n\n  const addToCart = (item) => {\n    const exist = cartItems.find((i) => i.id === item.id);\n    if (exist) {\n      setCartItems((prev) =>\n        prev.map((i) =>\n          i.id === item.id ? { ...i, qty: i.qty + item.qty } : i\n        )\n      );\n    } else {\n      setCartItems((prev) => [...prev, { ...item, qty: item.qty || 1 }]);\n    }\n  };\n\n  const removeFromCart = (id) => {\n    setCartItems((prev) => prev.filter((item) => item.id !== id));\n  };\n\n  const changeQty = (id, qty) => {\n    setCartItems((prev) =>\n      prev.map((item) =>\n        item.id === id ? { ...item, qty: qty > 0 ? qty : 1 } : item\n      )\n    );\n  };\n\n  const increaseQty = (id) => {\n    const item = cartItems.find((item) => item.id === id);\n    if (item) changeQty(id, item.qty + 1);\n  };\n\n  const decreaseQty = (id) => {\n    const item = cartItems.find((item) => item.id === id);\n    if (item && item.qty > 1) changeQty(id, item.qty - 1);\n  };\n\n  const clearCart = () => {\n    setCartItems([]);\n  };\n\n  const subtotal = cartItems.reduce(\n    (total, item) => total + item.price * item.qty,\n    0\n  );\n\n  return (\n    <CartContext.Provider\n      value={{\n        cartItems,\n        addToCart,\n        removeFromCart,\n        changeQty,\n        increaseQty,\n        decreaseQty,\n        clearCart,\n        subtotal,\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n\nexport const useCart = () => useContext(CartContext);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}