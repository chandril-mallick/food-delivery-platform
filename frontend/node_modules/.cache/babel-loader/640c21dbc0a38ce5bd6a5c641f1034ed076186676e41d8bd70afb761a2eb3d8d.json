{"ast":null,"code":"import _objectSpread from\"/Users/chandrilmallick/Downloads/web-projects/dabba-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useContext,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";const CartContext=/*#__PURE__*/createContext();export const CartProvider=_ref=>{let{children}=_ref;const[cartItems,setCartItems]=useState([]);const addToCart=item=>{const exist=cartItems.find(i=>i.id===item.id);if(exist){setCartItems(prev=>prev.map(i=>i.id===item.id?_objectSpread(_objectSpread({},i),{},{qty:i.qty+item.qty}):i));}else{setCartItems(prev=>[...prev,_objectSpread(_objectSpread({},item),{},{qty:item.qty||1})]);}};const removeFromCart=id=>{setCartItems(prev=>prev.filter(item=>item.id!==id));};const changeQty=(id,qty)=>{setCartItems(prev=>prev.map(item=>item.id===id?_objectSpread(_objectSpread({},item),{},{qty:qty>0?qty:1}):item));};const increaseQty=id=>{const item=cartItems.find(item=>item.id===id);if(item)changeQty(id,item.qty+1);};const decreaseQty=id=>{const item=cartItems.find(item=>item.id===id);if(item&&item.qty>1)changeQty(id,item.qty-1);};const clearCart=()=>{setCartItems([]);};const subtotal=cartItems.reduce((total,item)=>total+item.price*item.qty,0);return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cartItems,addToCart,removeFromCart,changeQty,increaseQty,decreaseQty,clearCart,subtotal},children:children});};export const useCart=()=>useContext(CartContext);","map":{"version":3,"names":["React","createContext","useContext","useState","jsx","_jsx","CartContext","CartProvider","_ref","children","cartItems","setCartItems","addToCart","item","exist","find","i","id","prev","map","_objectSpread","qty","removeFromCart","filter","changeQty","increaseQty","decreaseQty","clearCart","subtotal","reduce","total","price","Provider","value","useCart"],"sources":["/Users/chandrilmallick/Downloads/web-projects/dabba-app/frontend/src/context/CartContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useState } from \"react\";\n\nconst CartContext = createContext();\n\nexport const CartProvider = ({ children }) => {\n  const [cartItems, setCartItems] = useState([]);\n\n  const addToCart = (item) => {\n    const exist = cartItems.find((i) => i.id === item.id);\n    if (exist) {\n      setCartItems((prev) =>\n        prev.map((i) =>\n          i.id === item.id ? { ...i, qty: i.qty + item.qty } : i\n        )\n      );\n    } else {\n      setCartItems((prev) => [...prev, { ...item, qty: item.qty || 1 }]);\n    }\n  };\n\n  const removeFromCart = (id) => {\n    setCartItems((prev) => prev.filter((item) => item.id !== id));\n  };\n\n  const changeQty = (id, qty) => {\n    setCartItems((prev) =>\n      prev.map((item) =>\n        item.id === id ? { ...item, qty: qty > 0 ? qty : 1 } : item\n      )\n    );\n  };\n\n  const increaseQty = (id) => {\n    const item = cartItems.find((item) => item.id === id);\n    if (item) changeQty(id, item.qty + 1);\n  };\n\n  const decreaseQty = (id) => {\n    const item = cartItems.find((item) => item.id === id);\n    if (item && item.qty > 1) changeQty(id, item.qty - 1);\n  };\n\n  const clearCart = () => {\n    setCartItems([]);\n  };\n\n  const subtotal = cartItems.reduce(\n    (total, item) => total + item.price * item.qty,\n    0\n  );\n\n  return (\n    <CartContext.Provider\n      value={{\n        cartItems,\n        addToCart,\n        removeFromCart,\n        changeQty,\n        increaseQty,\n        decreaseQty,\n        clearCart,\n        subtotal,\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n\nexport const useCart = () => useContext(CartContext);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}