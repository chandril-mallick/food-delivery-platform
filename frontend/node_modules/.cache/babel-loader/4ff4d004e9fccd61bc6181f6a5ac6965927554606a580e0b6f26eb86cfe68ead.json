{"ast":null,"code":"// Import the functions you need from the SDKs you need\nimport{initializeApp,getApps}from'firebase/app';import{getFirestore}from'firebase/firestore';import{getAuth}from'firebase/auth';import{initializeAppCheck,ReCaptchaV3Provider}from'firebase/app-check';// Your web app's Firebase configuration\nconst firebaseConfig={apiKey:process.env.REACT_APP_FIREBASE_API_KEY,authDomain:process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:process.env.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:process.env.REACT_APP_FIREBASE_APP_ID,measurementId:process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,// v3 site key provided via env when App Check is enabled\nrecaptchaV3Key:process.env.REACT_APP_RECAPTCHA_V3_SITE_KEY};// Initialize Firebase app regardless of auth provider (Firestore is used across flows)\nlet app=getApps().length?getApps()[0]:initializeApp(firebaseConfig);// eslint-disable-next-line no-console\nconsole.log('[Firebase] App initialized (provider:',process.env.REACT_APP_AUTH_PROVIDER,')');// Initialize Firebase services\nlet db,auth;if(app){// Initialize App Check (reCAPTCHA v3) when enabled\nconsole.log('[Firebase] App Check env var:',process.env.REACT_APP_ENABLE_APPCHECK);try{if(process.env.REACT_APP_ENABLE_APPCHECK==='true'){console.log('[Firebase] App Check is ENABLED - initializing...');// Optional debug token for local development\nif(process.env.REACT_APP_APPCHECK_DEBUG==='true'){// eslint-disable-next-line no-underscore-dangle\nwindow.FIREBASE_APPCHECK_DEBUG_TOKEN=true;}const siteKey=process.env.REACT_APP_RECAPTCHA_V3_SITE_KEY;if(siteKey){initializeAppCheck(app,{provider:new ReCaptchaV3Provider(siteKey),isTokenAutoRefreshEnabled:true});// eslint-disable-next-line no-console\nconsole.log('[Firebase] App Check initialized with reCAPTCHA v3');}else{// eslint-disable-next-line no-console\nconsole.warn('[Firebase] REACT_APP_RECAPTCHA_V3_SITE_KEY is missing; App Check not initialized');}}else{// eslint-disable-next-line no-console\nconsole.log('[Firebase] App Check is DISABLED via env variable');}}catch(e){// eslint-disable-next-line no-console\nconsole.error('[Firebase] Failed to initialize App Check:',e);}db=getFirestore(app);auth=getAuth(app);console.log('[Firebase] Firestore and Auth initialized');}export{app,db,auth};export default app;","map":{"version":3,"names":["initializeApp","getApps","getFirestore","getAuth","initializeAppCheck","ReCaptchaV3Provider","firebaseConfig","apiKey","process","env","REACT_APP_FIREBASE_API_KEY","authDomain","REACT_APP_FIREBASE_AUTH_DOMAIN","projectId","REACT_APP_FIREBASE_PROJECT_ID","storageBucket","REACT_APP_FIREBASE_STORAGE_BUCKET","messagingSenderId","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","appId","REACT_APP_FIREBASE_APP_ID","measurementId","REACT_APP_FIREBASE_MEASUREMENT_ID","recaptchaV3Key","REACT_APP_RECAPTCHA_V3_SITE_KEY","app","length","console","log","REACT_APP_AUTH_PROVIDER","db","auth","REACT_APP_ENABLE_APPCHECK","REACT_APP_APPCHECK_DEBUG","window","FIREBASE_APPCHECK_DEBUG_TOKEN","siteKey","provider","isTokenAutoRefreshEnabled","warn","e","error"],"sources":["/Users/chandrilmallick/Downloads/web-projects/dabba-app/frontend/src/firebase/config.js"],"sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp, getApps } from 'firebase/app';\nimport { getFirestore } from 'firebase/firestore';\nimport { getAuth } from 'firebase/auth';\nimport { initializeAppCheck, ReCaptchaV3Provider } from 'firebase/app-check';\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,\n  // v3 site key provided via env when App Check is enabled\n  recaptchaV3Key: process.env.REACT_APP_RECAPTCHA_V3_SITE_KEY\n};\n\n// Initialize Firebase app regardless of auth provider (Firestore is used across flows)\nlet app = getApps().length ? getApps()[0] : initializeApp(firebaseConfig);\n// eslint-disable-next-line no-console\nconsole.log('[Firebase] App initialized (provider:', process.env.REACT_APP_AUTH_PROVIDER, ')');\n\n// Initialize Firebase services\nlet db, auth;\nif (app) {\n  // Initialize App Check (reCAPTCHA v3) when enabled\n  console.log('[Firebase] App Check env var:', process.env.REACT_APP_ENABLE_APPCHECK);\n  \n  try {\n    if (process.env.REACT_APP_ENABLE_APPCHECK === 'true') {\n      console.log('[Firebase] App Check is ENABLED - initializing...');\n      // Optional debug token for local development\n      if (process.env.REACT_APP_APPCHECK_DEBUG === 'true') {\n        // eslint-disable-next-line no-underscore-dangle\n        window.FIREBASE_APPCHECK_DEBUG_TOKEN = true;\n      }\n\n      const siteKey = process.env.REACT_APP_RECAPTCHA_V3_SITE_KEY;\n      if (siteKey) {\n        initializeAppCheck(app, {\n          provider: new ReCaptchaV3Provider(siteKey),\n          isTokenAutoRefreshEnabled: true\n        });\n        // eslint-disable-next-line no-console\n        console.log('[Firebase] App Check initialized with reCAPTCHA v3');\n      } else {\n        // eslint-disable-next-line no-console\n        console.warn('[Firebase] REACT_APP_RECAPTCHA_V3_SITE_KEY is missing; App Check not initialized');\n      }\n    } else {\n      // eslint-disable-next-line no-console\n      console.log('[Firebase] App Check is DISABLED via env variable');\n    }\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.error('[Firebase] Failed to initialize App Check:', e);\n  }\n\n  db = getFirestore(app);\n  auth = getAuth(app);\n  console.log('[Firebase] Firestore and Auth initialized');\n}\n\nexport { app, db, auth };\n\nexport default app;\n"],"mappings":"AAAA;AACA,OAASA,aAAa,CAAEC,OAAO,KAAQ,cAAc,CACrD,OAASC,YAAY,KAAQ,oBAAoB,CACjD,OAASC,OAAO,KAAQ,eAAe,CACvC,OAASC,kBAAkB,CAAEC,mBAAmB,KAAQ,oBAAoB,CAE5E;AACA,KAAM,CAAAC,cAAc,CAAG,CACrBC,MAAM,CAAEC,OAAO,CAACC,GAAG,CAACC,0BAA0B,CAC9CC,UAAU,CAAEH,OAAO,CAACC,GAAG,CAACG,8BAA8B,CACtDC,SAAS,CAAEL,OAAO,CAACC,GAAG,CAACK,6BAA6B,CACpDC,aAAa,CAAEP,OAAO,CAACC,GAAG,CAACO,iCAAiC,CAC5DC,iBAAiB,CAAET,OAAO,CAACC,GAAG,CAACS,sCAAsC,CACrEC,KAAK,CAAEX,OAAO,CAACC,GAAG,CAACW,yBAAyB,CAC5CC,aAAa,CAAEb,OAAO,CAACC,GAAG,CAACa,iCAAiC,CAC5D;AACAC,cAAc,CAAEf,OAAO,CAACC,GAAG,CAACe,+BAC9B,CAAC,CAED;AACA,GAAI,CAAAC,GAAG,CAAGxB,OAAO,CAAC,CAAC,CAACyB,MAAM,CAAGzB,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAGD,aAAa,CAACM,cAAc,CAAC,CACzE;AACAqB,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAEpB,OAAO,CAACC,GAAG,CAACoB,uBAAuB,CAAE,GAAG,CAAC,CAE9F;AACA,GAAI,CAAAC,EAAE,CAAEC,IAAI,CACZ,GAAIN,GAAG,CAAE,CACP;AACAE,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAEpB,OAAO,CAACC,GAAG,CAACuB,yBAAyB,CAAC,CAEnF,GAAI,CACF,GAAIxB,OAAO,CAACC,GAAG,CAACuB,yBAAyB,GAAK,MAAM,CAAE,CACpDL,OAAO,CAACC,GAAG,CAAC,mDAAmD,CAAC,CAChE;AACA,GAAIpB,OAAO,CAACC,GAAG,CAACwB,wBAAwB,GAAK,MAAM,CAAE,CACnD;AACAC,MAAM,CAACC,6BAA6B,CAAG,IAAI,CAC7C,CAEA,KAAM,CAAAC,OAAO,CAAG5B,OAAO,CAACC,GAAG,CAACe,+BAA+B,CAC3D,GAAIY,OAAO,CAAE,CACXhC,kBAAkB,CAACqB,GAAG,CAAE,CACtBY,QAAQ,CAAE,GAAI,CAAAhC,mBAAmB,CAAC+B,OAAO,CAAC,CAC1CE,yBAAyB,CAAE,IAC7B,CAAC,CAAC,CACF;AACAX,OAAO,CAACC,GAAG,CAAC,oDAAoD,CAAC,CACnE,CAAC,IAAM,CACL;AACAD,OAAO,CAACY,IAAI,CAAC,kFAAkF,CAAC,CAClG,CACF,CAAC,IAAM,CACL;AACAZ,OAAO,CAACC,GAAG,CAAC,mDAAmD,CAAC,CAClE,CACF,CAAE,MAAOY,CAAC,CAAE,CACV;AACAb,OAAO,CAACc,KAAK,CAAC,4CAA4C,CAAED,CAAC,CAAC,CAChE,CAEAV,EAAE,CAAG5B,YAAY,CAACuB,GAAG,CAAC,CACtBM,IAAI,CAAG5B,OAAO,CAACsB,GAAG,CAAC,CACnBE,OAAO,CAACC,GAAG,CAAC,2CAA2C,CAAC,CAC1D,CAEA,OAASH,GAAG,CAAEK,EAAE,CAAEC,IAAI,EAEtB,cAAe,CAAAN,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}