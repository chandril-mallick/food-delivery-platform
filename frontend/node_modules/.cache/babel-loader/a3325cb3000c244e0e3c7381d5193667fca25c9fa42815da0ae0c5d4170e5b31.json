{"ast":null,"code":"import React,{useEffect}from'react';import{Navigate,useLocation}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{toast}from'react-hot-toast';import{jsx as _jsx}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,requireAuth=true,redirectTo='/login'}=_ref;const{isAuthenticated,loading}=useAuth();const location=useLocation();// Handle toast notifications\nuseEffect(()=>{if(!loading&&requireAuth&&!isAuthenticated){toast.error('Please login to access this page');}},[loading,isAuthenticated,requireAuth]);// Show loading spinner while checking authentication\nif(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500\"})});}// If authentication is required but user is not authenticated\nif(requireAuth&&!isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:redirectTo,state:{from:location},replace:true});}// If user is authenticated but trying to access auth pages\nif(!requireAuth&&isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true});}return children;};export default ProtectedRoute;","map":{"version":3,"names":["React","useEffect","Navigate","useLocation","useAuth","toast","jsx","_jsx","ProtectedRoute","_ref","children","requireAuth","redirectTo","isAuthenticated","loading","location","error","className","to","state","from","replace"],"sources":["/Users/chandrilmallick/Downloads/web-projects/dabba-app/frontend/src/components/ProtectedRoute.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { toast } from 'react-hot-toast';\n\nconst ProtectedRoute = ({ children, requireAuth = true, redirectTo = '/login' }) => {\n  const { isAuthenticated, loading } = useAuth();\n  const location = useLocation();\n\n  // Handle toast notifications\n  useEffect(() => {\n    if (!loading && requireAuth && !isAuthenticated) {\n      toast.error('Please login to access this page');\n    }\n  }, [loading, isAuthenticated, requireAuth]);\n\n  // Show loading spinner while checking authentication\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500\"></div>\n      </div>\n    );\n  }\n\n  // If authentication is required but user is not authenticated\n  if (requireAuth && !isAuthenticated) {\n    return <Navigate to={redirectTo} state={{ from: location }} replace />;\n  }\n\n  // If user is authenticated but trying to access auth pages\n  if (!requireAuth && isAuthenticated) {\n    return <Navigate to=\"/\" replace />;\n  }\n\n  return children;\n};\n\nexport default ProtectedRoute;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,QAAQ,CAAEC,WAAW,KAAQ,kBAAkB,CACxD,OAASC,OAAO,KAAQ,wBAAwB,CAChD,OAASC,KAAK,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAExC,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAA6D,IAA5D,CAAEC,QAAQ,CAAEC,WAAW,CAAG,IAAI,CAAEC,UAAU,CAAG,QAAS,CAAC,CAAAH,IAAA,CAC7E,KAAM,CAAEI,eAAe,CAAEC,OAAQ,CAAC,CAAGV,OAAO,CAAC,CAAC,CAC9C,KAAM,CAAAW,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAE9B;AACAF,SAAS,CAAC,IAAM,CACd,GAAI,CAACa,OAAO,EAAIH,WAAW,EAAI,CAACE,eAAe,CAAE,CAC/CR,KAAK,CAACW,KAAK,CAAC,kCAAkC,CAAC,CACjD,CACF,CAAC,CAAE,CAACF,OAAO,CAAED,eAAe,CAAEF,WAAW,CAAC,CAAC,CAE3C;AACA,GAAIG,OAAO,CAAE,CACX,mBACEP,IAAA,QAAKU,SAAS,CAAC,+CAA+C,CAAAP,QAAA,cAC5DH,IAAA,QAAKU,SAAS,CAAC,+DAA+D,CAAM,CAAC,CAClF,CAAC,CAEV,CAEA;AACA,GAAIN,WAAW,EAAI,CAACE,eAAe,CAAE,CACnC,mBAAON,IAAA,CAACL,QAAQ,EAACgB,EAAE,CAAEN,UAAW,CAACO,KAAK,CAAE,CAAEC,IAAI,CAAEL,QAAS,CAAE,CAACM,OAAO,MAAE,CAAC,CACxE,CAEA;AACA,GAAI,CAACV,WAAW,EAAIE,eAAe,CAAE,CACnC,mBAAON,IAAA,CAACL,QAAQ,EAACgB,EAAE,CAAC,GAAG,CAACG,OAAO,MAAE,CAAC,CACpC,CAEA,MAAO,CAAAX,QAAQ,CACjB,CAAC,CAED,cAAe,CAAAF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}