{"ast":null,"code":"import _objectSpread from\"/Users/chandrilmallick/Downloads/web-projects/dabba-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// services/adminNotificationService.js\nimport{collection,onSnapshot,query,orderBy,limit}from'firebase/firestore';import{db}from'../firebase/config';import{toast}from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class AdminNotificationService{constructor(){this.unsubscribe=null;this.lastOrderTime=Date.now();this.isListening=false;}// Start listening for new orders\nstartListening(adminUserId){if(this.isListening)return;try{const ordersRef=collection(db,'orders');const q=query(ordersRef,orderBy('createdAt','desc'),limit(10));this.unsubscribe=onSnapshot(q,snapshot=>{snapshot.docChanges().forEach(change=>{if(change.type==='added'){var _order$createdAt,_order$createdAt$toDa,_order$createdAt$toDa2;const order=_objectSpread({id:change.doc.id},change.doc.data());const orderTime=((_order$createdAt=order.createdAt)===null||_order$createdAt===void 0?void 0:(_order$createdAt$toDa=_order$createdAt.toDate)===null||_order$createdAt$toDa===void 0?void 0:(_order$createdAt$toDa2=_order$createdAt$toDa.call(_order$createdAt))===null||_order$createdAt$toDa2===void 0?void 0:_order$createdAt$toDa2.getTime())||new Date(order.createdAt).getTime();// Only notify for orders placed after we started listening\nif(orderTime>this.lastOrderTime){this.showNewOrderNotification(order);this.playNotificationSound();}}});},error=>{console.error('Error listening to orders:',error);toast.error('Failed to connect to order notifications');});this.isListening=true;console.log('Admin notification service started');}catch(error){console.error('Error starting notification service:',error);toast.error('Failed to start notification service');}}// Stop listening for new orders\nstopListening(){if(this.unsubscribe){this.unsubscribe();this.unsubscribe=null;this.isListening=false;console.log('Admin notification service stopped');}}// Show new order notification\nshowNewOrderNotification(order){var _order$pricing,_order$deliveryAddres,_order$id;const orderValue=((_order$pricing=order.pricing)===null||_order$pricing===void 0?void 0:_order$pricing.total)||0;const customerName=((_order$deliveryAddres=order.deliveryAddress)===null||_order$deliveryAddres===void 0?void 0:_order$deliveryAddres.name)||'Unknown Customer';const orderNumber=order.orderNumber||((_order$id=order.id)===null||_order$id===void 0?void 0:_order$id.slice(-6));// Create custom notification toast\ntoast.custom(t=>/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(t.visible?'animate-enter':'animate-leave',\" max-w-md w-full bg-gradient-to-r from-orange-500 to-red-500 shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 w-0 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-white rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83D\\uDD14\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3 flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-white\",children:\"New Order Received!\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 text-sm text-orange-100\",children:[\"Order #\",orderNumber]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-orange-100\",children:customerName}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-semibold text-white\",children:[\"Amount: \\u20B9\",orderValue]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex border-l border-orange-400\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>toast.dismiss(t.id),className:\"w-full border border-transparent rounded-none rounded-r-lg p-4 flex items-center justify-center text-sm font-medium text-white hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500\",children:\"\\u2715\"})})]}),{duration:8000,position:'top-right'});// Show browser notification if permission granted\nthis.showBrowserNotification(order);}// Show browser notification\nshowBrowserNotification(order){if('Notification'in window&&Notification.permission==='granted'){var _order$pricing2,_order$deliveryAddres2,_order$id2;const orderValue=((_order$pricing2=order.pricing)===null||_order$pricing2===void 0?void 0:_order$pricing2.total)||0;const customerName=((_order$deliveryAddres2=order.deliveryAddress)===null||_order$deliveryAddres2===void 0?void 0:_order$deliveryAddres2.name)||'Unknown Customer';const orderNumber=order.orderNumber||((_order$id2=order.id)===null||_order$id2===void 0?void 0:_order$id2.slice(-6));new Notification('New Order Received - Dabba App',{body:\"Order #\".concat(orderNumber,\" from \").concat(customerName,\" - \\u20B9\").concat(orderValue),icon:'/favicon.ico',badge:'/favicon.ico',tag:\"order-\".concat(order.id),requireInteraction:true,actions:[{action:'view',title:'View Order'},{action:'dismiss',title:'Dismiss'}]});}}// Play notification sound\nplayNotificationSound(){try{// Create audio context for notification sound\nconst audioContext=new(window.AudioContext||window.webkitAudioContext)();// Create a simple notification beep\nconst oscillator=audioContext.createOscillator();const gainNode=audioContext.createGain();oscillator.connect(gainNode);gainNode.connect(audioContext.destination);oscillator.frequency.setValueAtTime(800,audioContext.currentTime);oscillator.frequency.setValueAtTime(600,audioContext.currentTime+0.1);oscillator.frequency.setValueAtTime(800,audioContext.currentTime+0.2);gainNode.gain.setValueAtTime(0.3,audioContext.currentTime);gainNode.gain.exponentialRampToValueAtTime(0.01,audioContext.currentTime+0.3);oscillator.start(audioContext.currentTime);oscillator.stop(audioContext.currentTime+0.3);}catch(error){console.log('Could not play notification sound:',error);}}// Request notification permission\nstatic async requestNotificationPermission(){if('Notification'in window){const permission=await Notification.requestPermission();return permission==='granted';}return false;}// Notify all active admin sessions of new order\nnotifyAdminsOfNewOrder(order){try{// Show notification immediately\nthis.showNewOrderNotification(order);this.playNotificationSound();// Send browser notification\nthis.showBrowserNotification(order);// Log for debugging\nconsole.log('Admin notification sent for order:',order.id);// You can extend this to send notifications to multiple admin sessions\n// or integrate with push notification services like FCM\n}catch(error){console.error('Error sending admin notification:',error);throw error;}}// Check if user is admin\nstatic isAdmin(user){var _user$email,_user$email2;if(!user)return false;// Check if email contains 'admin' or specific admin UIDs\nconst adminEmails=['farhanroit2004@gmail.com','chandrilmallick@gmail.com'];const adminUIDs=['admin-uid-1','admin-uid-2'];// Add specific admin UIDs\nreturn((_user$email=user.email)===null||_user$email===void 0?void 0:_user$email.toLowerCase().includes('admin'))||adminEmails.includes((_user$email2=user.email)===null||_user$email2===void 0?void 0:_user$email2.toLowerCase())||adminUIDs.includes(user.uid);}}// Create singleton instance\nconst adminNotificationService=new AdminNotificationService();export default adminNotificationService;","map":{"version":3,"names":["collection","onSnapshot","query","orderBy","limit","db","toast","jsx","_jsx","jsxs","_jsxs","AdminNotificationService","constructor","unsubscribe","lastOrderTime","Date","now","isListening","startListening","adminUserId","ordersRef","q","snapshot","docChanges","forEach","change","type","_order$createdAt","_order$createdAt$toDa","_order$createdAt$toDa2","order","_objectSpread","id","doc","data","orderTime","createdAt","toDate","call","getTime","showNewOrderNotification","playNotificationSound","error","console","log","stopListening","_order$pricing","_order$deliveryAddres","_order$id","orderValue","pricing","total","customerName","deliveryAddress","name","orderNumber","slice","custom","t","className","concat","visible","children","onClick","dismiss","duration","position","showBrowserNotification","window","Notification","permission","_order$pricing2","_order$deliveryAddres2","_order$id2","body","icon","badge","tag","requireInteraction","actions","action","title","audioContext","AudioContext","webkitAudioContext","oscillator","createOscillator","gainNode","createGain","connect","destination","frequency","setValueAtTime","currentTime","gain","exponentialRampToValueAtTime","start","stop","requestNotificationPermission","requestPermission","notifyAdminsOfNewOrder","isAdmin","user","_user$email","_user$email2","adminEmails","adminUIDs","email","toLowerCase","includes","uid","adminNotificationService"],"sources":["/Users/chandrilmallick/Downloads/web-projects/dabba-app/frontend/src/services/adminNotificationService.js"],"sourcesContent":["// services/adminNotificationService.js\nimport { collection, onSnapshot, query, orderBy, limit } from 'firebase/firestore';\nimport { db } from '../firebase/config';\nimport { toast } from 'react-hot-toast';\n\nclass AdminNotificationService {\n  constructor() {\n    this.unsubscribe = null;\n    this.lastOrderTime = Date.now();\n    this.isListening = false;\n  }\n\n  // Start listening for new orders\n  startListening(adminUserId) {\n    if (this.isListening) return;\n\n    try {\n      const ordersRef = collection(db, 'orders');\n      const q = query(\n        ordersRef,\n        orderBy('createdAt', 'desc'),\n        limit(10)\n      );\n\n      this.unsubscribe = onSnapshot(q, (snapshot) => {\n        snapshot.docChanges().forEach((change) => {\n          if (change.type === 'added') {\n            const order = { id: change.doc.id, ...change.doc.data() };\n            const orderTime = order.createdAt?.toDate?.()?.getTime() || new Date(order.createdAt).getTime();\n            \n            // Only notify for orders placed after we started listening\n            if (orderTime > this.lastOrderTime) {\n              this.showNewOrderNotification(order);\n              this.playNotificationSound();\n            }\n          }\n        });\n      }, (error) => {\n        console.error('Error listening to orders:', error);\n        toast.error('Failed to connect to order notifications');\n      });\n\n      this.isListening = true;\n      console.log('Admin notification service started');\n      \n    } catch (error) {\n      console.error('Error starting notification service:', error);\n      toast.error('Failed to start notification service');\n    }\n  }\n\n  // Stop listening for new orders\n  stopListening() {\n    if (this.unsubscribe) {\n      this.unsubscribe();\n      this.unsubscribe = null;\n      this.isListening = false;\n      console.log('Admin notification service stopped');\n    }\n  }\n\n  // Show new order notification\n  showNewOrderNotification(order) {\n    const orderValue = order.pricing?.total || 0;\n    const customerName = order.deliveryAddress?.name || 'Unknown Customer';\n    const orderNumber = order.orderNumber || order.id?.slice(-6);\n\n    // Create custom notification toast\n    toast.custom((t) => (\n      <div className={`${\n        t.visible ? 'animate-enter' : 'animate-leave'\n      } max-w-md w-full bg-gradient-to-r from-orange-500 to-red-500 shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5`}>\n        <div className=\"flex-1 w-0 p-4\">\n          <div className=\"flex items-start\">\n            <div className=\"flex-shrink-0\">\n              <div className=\"w-10 h-10 bg-white rounded-full flex items-center justify-center\">\n                <span className=\"text-2xl\">ðŸ””</span>\n              </div>\n            </div>\n            <div className=\"ml-3 flex-1\">\n              <p className=\"text-sm font-medium text-white\">\n                New Order Received!\n              </p>\n              <p className=\"mt-1 text-sm text-orange-100\">\n                Order #{orderNumber}\n              </p>\n              <p className=\"text-sm text-orange-100\">\n                {customerName}\n              </p>\n              <p className=\"text-sm font-semibold text-white\">\n                Amount: â‚¹{orderValue}\n              </p>\n            </div>\n          </div>\n        </div>\n        <div className=\"flex border-l border-orange-400\">\n          <button\n            onClick={() => toast.dismiss(t.id)}\n            className=\"w-full border border-transparent rounded-none rounded-r-lg p-4 flex items-center justify-center text-sm font-medium text-white hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500\"\n          >\n            âœ•\n          </button>\n        </div>\n      </div>\n    ), {\n      duration: 8000,\n      position: 'top-right',\n    });\n\n    // Show browser notification if permission granted\n    this.showBrowserNotification(order);\n  }\n\n  // Show browser notification\n  showBrowserNotification(order) {\n    if ('Notification' in window && Notification.permission === 'granted') {\n      const orderValue = order.pricing?.total || 0;\n      const customerName = order.deliveryAddress?.name || 'Unknown Customer';\n      const orderNumber = order.orderNumber || order.id?.slice(-6);\n\n      new Notification('New Order Received - Dabba App', {\n        body: `Order #${orderNumber} from ${customerName} - â‚¹${orderValue}`,\n        icon: '/favicon.ico',\n        badge: '/favicon.ico',\n        tag: `order-${order.id}`,\n        requireInteraction: true,\n        actions: [\n          { action: 'view', title: 'View Order' },\n          { action: 'dismiss', title: 'Dismiss' }\n        ]\n      });\n    }\n  }\n\n  // Play notification sound\n  playNotificationSound() {\n    try {\n      // Create audio context for notification sound\n      const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n      \n      // Create a simple notification beep\n      const oscillator = audioContext.createOscillator();\n      const gainNode = audioContext.createGain();\n      \n      oscillator.connect(gainNode);\n      gainNode.connect(audioContext.destination);\n      \n      oscillator.frequency.setValueAtTime(800, audioContext.currentTime);\n      oscillator.frequency.setValueAtTime(600, audioContext.currentTime + 0.1);\n      oscillator.frequency.setValueAtTime(800, audioContext.currentTime + 0.2);\n      \n      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);\n      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);\n      \n      oscillator.start(audioContext.currentTime);\n      oscillator.stop(audioContext.currentTime + 0.3);\n    } catch (error) {\n      console.log('Could not play notification sound:', error);\n    }\n  }\n\n  // Request notification permission\n  static async requestNotificationPermission() {\n    if ('Notification' in window) {\n      const permission = await Notification.requestPermission();\n      return permission === 'granted';\n    }\n    return false;\n  }\n\n  // Notify all active admin sessions of new order\n  notifyAdminsOfNewOrder(order) {\n    try {\n      // Show notification immediately\n      this.showNewOrderNotification(order);\n      this.playNotificationSound();\n      \n      // Send browser notification\n      this.showBrowserNotification(order);\n      \n      // Log for debugging\n      console.log('Admin notification sent for order:', order.id);\n      \n      // You can extend this to send notifications to multiple admin sessions\n      // or integrate with push notification services like FCM\n      \n    } catch (error) {\n      console.error('Error sending admin notification:', error);\n      throw error;\n    }\n  }\n\n  // Check if user is admin\n  static isAdmin(user) {\n    if (!user) return false;\n    \n    // Check if email contains 'admin' or specific admin UIDs\n    const adminEmails = ['farhanroit2004@gmail.com', 'chandrilmallick@gmail.com'];\n    const adminUIDs = ['admin-uid-1', 'admin-uid-2']; // Add specific admin UIDs\n    \n    return (\n      user.email?.toLowerCase().includes('admin') ||\n      adminEmails.includes(user.email?.toLowerCase()) ||\n      adminUIDs.includes(user.uid)\n    );\n  }\n}\n\n// Create singleton instance\nconst adminNotificationService = new AdminNotificationService();\n\nexport default adminNotificationService;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}