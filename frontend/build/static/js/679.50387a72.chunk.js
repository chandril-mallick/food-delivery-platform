/*! For license information please see 679.50387a72.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkdabba_app=self.webpackChunkdabba_app||[]).push([[679],{1360:(e,t,s)=>{s.d(t,{A:()=>r});const r=(0,s(7784).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3546:(e,t,s)=>{s.d(t,{N:()=>f});var r=s(579),a=s(5043),i=s(2190),n=s(4930),l=s(293),c=s(2555),o=s(9674),d=s(8676),m=s(1051);class x extends a.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,s=(0,d.s)(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h(e){let{children:t,isPresent:s,anchorX:i,root:n}=e;const l=(0,a.useId)(),c=(0,a.useRef)(null),o=(0,a.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=(0,a.useContext)(m.Q);return(0,a.useInsertionEffect)(()=>{const{width:e,height:t,top:r,left:a,right:m}=o.current;if(s||!c.current||!e||!t)return;const x="left"===i?"left: ".concat(a):"right: ".concat(m);c.current.dataset.motionPopId=l;const h=document.createElement("style");d&&(h.nonce=d);const u=null!==n&&void 0!==n?n:document.head;return u.appendChild(h),h.sheet&&h.sheet.insertRule('\n          [data-motion-pop-id="'.concat(l,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(x,"px !important;\n            top: ").concat(r,"px !important;\n          }\n        ")),()=>{u.contains(h)&&u.removeChild(h)}},[s]),(0,r.jsx)(x,{isPresent:s,childRef:c,sizeRef:o,children:a.cloneElement(t,{ref:c})})}const u=e=>{let{children:t,initial:s,isPresent:i,onExitComplete:l,custom:d,presenceAffectsLayout:m,mode:x,anchorX:u,root:g}=e;const b=(0,n.M)(p),y=(0,a.useId)();let f=!0,v=(0,a.useMemo)(()=>(f=!1,{id:y,initial:s,isPresent:i,custom:d,onExitComplete:e=>{b.set(e,!0);for(const t of b.values())if(!t)return;l&&l()},register:e=>(b.set(e,!1),()=>b.delete(e))}),[i,b,l]);return m&&f&&(v=(0,c.A)({},v)),(0,a.useMemo)(()=>{b.forEach((e,t)=>b.set(t,!1))},[i]),a.useEffect(()=>{!i&&!b.size&&l&&l()},[i]),"popLayout"===x&&(t=(0,r.jsx)(h,{isPresent:i,anchorX:u,root:g,children:t})),(0,r.jsx)(o.t.Provider,{value:v,children:t})};function p(){return new Map}var g=s(8917);const b=e=>e.key||"";function y(e){const t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}const f=e=>{let{children:t,custom:s,initial:c=!0,onExitComplete:o,presenceAffectsLayout:d=!0,mode:m="sync",propagate:x=!1,anchorX:h="left",root:p}=e;const[f,v]=(0,g.xQ)(x),j=(0,a.useMemo)(()=>y(t),[t]),N=x&&!f?[]:j.map(b),w=(0,a.useRef)(!0),k=(0,a.useRef)(j),C=(0,n.M)(()=>new Map),[A,S]=(0,a.useState)(j),[M,P]=(0,a.useState)(j);(0,l.E)(()=>{w.current=!1,k.current=j;for(let e=0;e<M.length;e++){const t=b(M[e]);N.includes(t)?C.delete(t):!0!==C.get(t)&&C.set(t,!1)}},[M,N.length,N.join("-")]);const R=[];if(j!==A){let e=[...j];for(let t=0;t<M.length;t++){const s=M[t],r=b(s);N.includes(r)||(e.splice(t,0,s),R.push(s))}return"wait"===m&&R.length&&(e=R),P(y(e)),S(j),null}const{forceRender:E}=(0,a.useContext)(i.L);return(0,r.jsx)(r.Fragment,{children:M.map(e=>{const t=b(e),a=!(x&&!f)&&(j===M||N.includes(t));return(0,r.jsx)(u,{isPresent:a,initial:!(w.current&&!c)&&void 0,custom:s,presenceAffectsLayout:d,mode:m,root:p,onExitComplete:a?void 0:()=>{if(!C.has(t))return;C.set(t,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(null===E||void 0===E||E(),P(k.current),x&&(null===v||void 0===v||v()),o&&o())},anchorX:h,children:e},t)})})}},4679:(e,t,s)=>{s.r(t),s.d(t,{default:()=>k});var r=s(2555),a=s(5043),i=s(2603),n=s(5187),l=s(1373),c=s(2339),o=s(579);const d=e=>{var t;let{userId:s,onOrderSuccess:n}=e;const{cartItems:d,subtotal:m,clearCart:x}=(0,i._)(),[h,u]=(0,a.useState)(!1),[p,g]=(0,a.useState)(""),[b,y]=(0,a.useState)({street:"",city:"",state:"",pincode:"",landmark:""}),[f,v]=(0,a.useState)("regular"),[j,N]=(0,a.useState)(""),[w,k]=(0,a.useState)(""),[C,A]=(0,a.useState)({department:"",buildingNumber:"",roomNumber:"",area:""}),S=[{id:"BWU",name:"BRAINWARE UNIVERSITY",locations:[" Main Campus"]}],[M,P]=(0,a.useState)(""),[R,E]=(0,a.useState)(l.uq.COD),[L,D]=(0,a.useState)(""),[F,q]=(0,a.useState)({}),O=m+0+2.5,z=async e=>{if(e.preventDefault(),(()=>{const e={};return"university"===f?(j||(e.university="Please select a university"),w||(e.location="Please select a location"),C.department.trim()||(e.department="Department is required"),C.buildingNumber.trim()||(e.buildingNumber="Building number is required")):(b.street.trim()||(e.street="Street address is required"),b.city.trim()||(e.city="City is required"),b.state.trim()||(e.state="State is required"),b.pincode.trim()?/^\d{6}$/.test(b.pincode)||(e.pincode="Pincode must be 6 digits"):e.pincode="Pincode is required"),p.trim()||(e.customerName="Customer name is required"),M.trim()?/^\d{10}$/.test(M.replace(/\s/g,""))||(e.contactNumber="Contact number must be 10 digits"):e.contactNumber="Contact number is required",q(e),0===Object.keys(e).length})())if(0!==d.length){u(!0);try{var t;const e="university"===f?{street:"".concat(null===(t=S.find(e=>e.id===j))||void 0===t?void 0:t.name," - ").concat(w),city:"Barasat",state:"West Bengal",pincode:"700124",landmark:"".concat(C.department,", Building ").concat(C.buildingNumber).concat(C.roomNumber?", Room "+C.roomNumber:"").concat(C.area?", "+C.area:""),type:"university",university:j,location:w,universityDetails:C}:(0,r.A)((0,r.A)({},b),{},{type:"regular"}),a={userId:s,customerName:p.trim(),items:d,deliveryAddress:e,paymentMethod:R,specialInstructions:L,contactNumber:M.replace(/\s/g,""),deliveryType:f},i=await l.Ay.placeOrder(a);i.success&&(c.oR.success(i.message),x(),n&&n(i))}catch(a){c.oR.error(a.message||"Failed to place order")}finally{u(!1)}}else c.oR.error("Your cart is empty");else c.oR.error("Please fill all required fields correctly")},B=(e,t)=>{y(s=>(0,r.A)((0,r.A)({},s),{},{[e]:t})),F[e]&&q(t=>(0,r.A)((0,r.A)({},t),{},{[e]:""}))},I=e=>{v(e),N(""),k(""),A({department:"",buildingNumber:"",roomNumber:"",area:""}),q(e=>(0,r.A)((0,r.A)({},e),{},{university:"",location:"",department:"",buildingNumber:"",roomNumber:"",area:"",street:"",city:"",state:"",pincode:""}))},T=(e,t)=>{A(s=>(0,r.A)((0,r.A)({},s),{},{[e]:t})),F[e]&&q(t=>(0,r.A)((0,r.A)({},t),{},{[e]:""}))};return 0===d.length?(0,o.jsx)("div",{className:"max-w-2xl mx-auto p-6 text-center bg-gradient-to-br from-gray-950 via-black to-gray-900 text-gray-100 min-h-screen flex items-center justify-center",children:(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Your cart is empty"}),(0,o.jsx)("p",{className:"text-gray-300",children:"Add some delicious items to your cart first!"})]})}):(0,o.jsxs)("div",{className:"max-w-4xl mx-auto p-6 text-gray-100 relative min-h-screen bg-gradient-to-br from-gray-950 via-black to-gray-900",children:[(0,o.jsx)("h2",{className:"text-3xl font-bold text-white mb-8",children:"Checkout"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,o.jsx)("div",{className:"space-y-6",children:(0,o.jsxs)("form",{onSubmit:z,className:"space-y-6",children:[(0,o.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm p-6 rounded-2xl shadow-md border border-white/10",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Delivery Options"}),(0,o.jsxs)("div",{className:"flex space-x-4 mb-6",children:[(0,o.jsx)("button",{type:"button",onClick:()=>I("university"),className:"flex-1 py-3 px-4 rounded-xl border-2 transition-all duration-200 ".concat("university"===f?"border-orange-500 bg-orange-500/10 text-orange-300":"border-white/10 bg-white/5 text-gray-200 hover:border-white/20"),children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"text-2xl mb-1",children:"\ud83c\udf93"}),(0,o.jsx)("div",{className:"font-semibold",children:"University Delivery"}),(0,o.jsx)("div",{className:"text-sm text-gray-300",children:"Free delivery to campus"})]})}),(0,o.jsx)("button",{type:"button",onClick:()=>I("regular"),className:"flex-1 py-3 px-4 rounded-xl border-2 transition-all duration-200 ".concat("regular"===f?"border-orange-500 bg-orange-500/10 text-orange-300":"border-white/10 bg-white/5 text-gray-200 hover:border-white/20"),children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"text-2xl mb-1",children:"\ud83c\udfe0"}),(0,o.jsx)("div",{className:"font-semibold",children:"Regular Delivery"}),(0,o.jsx)("div",{className:"text-sm text-gray-300",children:"Deliver to any address"})]})})]}),"university"===f&&(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-lg",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,o.jsx)("span",{className:"text-2xl",children:"\ud83c\udf93"}),(0,o.jsx)("h4",{className:"font-semibold text-green-300",children:"University Delivery - FREE!"})]}),(0,o.jsx)("p",{className:"text-sm text-green-300",children:"Get your food delivered directly to your university campus with zero delivery charges!"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Select University *"}),(0,o.jsxs)("select",{value:j,onChange:e=>{return t=e.target.value,N(t),k(""),A({department:"",buildingNumber:"",roomNumber:"",area:""}),void(F.university&&q(e=>(0,r.A)((0,r.A)({},e),{},{university:""})));var t},className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 ".concat(F.university?"border-red-500":"border-white/10"),children:[(0,o.jsx)("option",{value:"",children:"Choose your university..."}),S.map(e=>(0,o.jsx)("option",{value:e.id,children:e.name},e.id))]}),F.university&&(0,o.jsx)("p",{className:"text-red-400 text-sm mt-1",children:F.university})]}),j&&(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Campus Location *"}),(0,o.jsxs)("select",{value:w,onChange:e=>{return t=e.target.value,k(t),void(F.location&&q(e=>(0,r.A)((0,r.A)({},e),{},{location:""})));var t},className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 ".concat(F.location?"border-red-500":"border-white/10"),children:[(0,o.jsx)("option",{value:"",children:"Choose location..."}),null===(t=S.find(e=>e.id===j))||void 0===t?void 0:t.locations.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]}),F.location&&(0,o.jsx)("p",{className:"text-red-400 text-sm mt-1",children:F.location})]}),w&&(0,o.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4 space-y-4",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,o.jsx)("span",{className:"text-xl",children:"\ud83d\udccd"}),(0,o.jsx)("h4",{className:"font-semibold text-blue-300",children:"Delivery Details"})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Department/Faculty *"}),(0,o.jsx)("input",{type:"text",value:C.department,onChange:e=>T("department",e.target.value),className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 ".concat(F.department?"border-red-500":"border-white/10"),placeholder:"e.g., Computer Science, Library, Hostel"}),F.department&&(0,o.jsx)("p",{className:"text-red-400 text-sm mt-1",children:F.department})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Building Number *"}),(0,o.jsx)("input",{type:"text",value:C.buildingNumber,onChange:e=>T("buildingNumber",e.target.value),className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 ".concat(F.buildingNumber?"border-red-500":"border-white/10"),placeholder:"e.g., Block A, Building 1, Main Block"}),F.buildingNumber&&(0,o.jsx)("p",{className:"text-red-400 text-sm mt-1",children:F.buildingNumber})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Room Number"}),(0,o.jsx)("input",{type:"text",value:C.roomNumber,onChange:e=>T("roomNumber",e.target.value),className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 border-white/10",placeholder:"e.g., 201, Lab 3, Reception (Optional)"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Specific Area/Landmark"}),(0,o.jsx)("input",{type:"text",value:C.area,onChange:e=>T("area",e.target.value),className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 border-white/10",placeholder:"e.g., Near Gate 2, Canteen Area (Optional)"})]})]}),(0,o.jsx)("div",{className:"mt-3 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-md",children:(0,o.jsxs)("p",{className:"text-sm text-yellow-300",children:["\ud83d\udcde ",(0,o.jsx)("strong",{children:"Tip:"})," Please provide clear details to help our delivery partner find you easily on campus."]})})]})]})]}),"regular"===f&&(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Street Address *"}),(0,o.jsx)("input",{type:"text",value:b.street,onChange:e=>B("street",e.target.value),className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 ".concat(F.street?"border-red-500":"border-white/10"),placeholder:"Enter your street address"}),F.street&&(0,o.jsx)("p",{className:"text-red-400 text-sm mt-1",children:F.street})]}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"City *"}),(0,o.jsx)("input",{type:"text",value:b.city,onChange:e=>B("city",e.target.value),className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 ".concat(F.city?"border-red-500":"border-white/10"),placeholder:"City"}),F.city&&(0,o.jsx)("p",{className:"text-red-400 text-sm mt-1",children:F.city})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"State *"}),(0,o.jsx)("input",{type:"text",value:b.state,onChange:e=>B("state",e.target.value),className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 ".concat(F.state?"border-red-500":"border-white/10"),placeholder:"State"}),F.state&&(0,o.jsx)("p",{className:"text-red-400 text-sm mt-1",children:F.state})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Pincode *"}),(0,o.jsx)("input",{type:"text",value:b.pincode,onChange:e=>B("pincode",e.target.value),className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 ".concat(F.pincode?"border-red-500":"border-white/10"),placeholder:"123456",maxLength:"6"}),F.pincode&&(0,o.jsx)("p",{className:"text-red-400 text-sm mt-1",children:F.pincode})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Landmark"}),(0,o.jsx)("input",{type:"text",value:b.landmark,onChange:e=>B("landmark",e.target.value),className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 border-white/10",placeholder:"Optional"})]})]})]})]}),(0,o.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm p-6 rounded-2xl shadow-md border border-white/10",children:[(0,o.jsx)("h2",{className:"text-lg font-medium text-white mb-4",children:"Contact Information"}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-300 mb-1",children:["Full Name ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsxs)("div",{className:"mt-1",children:[(0,o.jsx)("input",{type:"text",id:"customerName",className:"w-full px-3 py-2 border ".concat(F.customerName?"border-red-500":"border-white/10"," rounded-md shadow-sm bg-white/5 text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"),placeholder:"Enter your full name",value:p,onChange:e=>g(e.target.value)}),F.customerName&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-400",children:F.customerName})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"contactNumber",className:"block text-sm font-medium text-gray-300 mb-1",children:["Phone Number ",(0,o.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,o.jsxs)("div",{className:"mt-1",children:[(0,o.jsx)("input",{type:"tel",id:"contactNumber",className:"w-full px-3 py-2 border ".concat(F.contactNumber?"border-red-500":"border-white/10"," rounded-md shadow-sm bg-white/5 text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"),placeholder:"Enter 10-digit mobile number",value:M,onChange:e=>(e=>{const t=e.replace(/\D/g,"");P(t),F.contactNumber&&q(e=>(0,r.A)((0,r.A)({},e),{},{contactNumber:""}))})(e.target.value),maxLength:"10"}),F.contactNumber&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-400",children:F.contactNumber})]})]})]}),(0,o.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm p-6 rounded-2xl shadow-md border border-white/10",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Payment Method"}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"radio",name:"paymentMethod",value:l.uq.COD,checked:R===l.uq.COD,onChange:e=>E(e.target.value),className:"mr-3 text-orange-500"}),(0,o.jsx)("span",{className:"text-gray-300",children:"Cash on Delivery (COD)"})]}),(0,o.jsxs)("label",{className:"flex items-center opacity-50 cursor-not-allowed",children:[(0,o.jsx)("input",{type:"radio",name:"paymentMethod",value:l.uq.ONLINE,disabled:!0,className:"mr-3"}),(0,o.jsx)("span",{className:"text-gray-400",children:"Online Payment (Coming Soon)"})]})]})]}),(0,o.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm p-6 rounded-2xl shadow-md border border-white/10",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Special Instructions"}),(0,o.jsx)("textarea",{value:L,onChange:e=>D(e.target.value),className:"w-full px-3 py-2 border rounded-md bg-white/5 text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 border-white/10",rows:"3",placeholder:"Any special requests or instructions for your order..."})]})]})}),(0,o.jsx)("div",{className:"space-y-6",children:(0,o.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm p-6 rounded-2xl shadow-md sticky top-6 border border-white/10",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Order Summary"}),(0,o.jsx)("div",{className:"space-y-3 mb-4",children:d.map(e=>(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("h4",{className:"font-medium text-white",children:e.name}),(0,o.jsxs)("p",{className:"text-sm text-gray-300",children:["\u20b9",e.price," \xd7 ",e.qty]})]}),(0,o.jsxs)("span",{className:"font-medium text-white",children:["\u20b9",e.price*e.qty]})]},e.id))}),(0,o.jsx)("hr",{className:"my-4 border-white/10"}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("span",{className:"text-gray-300",children:"Subtotal"}),(0,o.jsxs)("span",{className:"text-white",children:["\u20b9",m]})]}),(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,o.jsx)("span",{className:"text-gray-300",children:"Delivery Fee"})]}),(0,o.jsx)("span",{className:"text-green-300 font-medium",children:"Free delivery"})]}),(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,o.jsx)("span",{className:"text-gray-300",children:"Platform Fee"})]}),(0,o.jsx)("span",{className:"font-medium text-white",children:"\u20b92.5"})]}),(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,o.jsx)("span",{className:"text-gray-300",children:"Taxes & Fees"})]}),(0,o.jsx)("span",{className:"text-gray-400",children:"No taxes"})]}),(0,o.jsx)("hr",{className:"my-2 border-white/10"}),(0,o.jsxs)("div",{className:"flex justify-between text-lg font-semibold",children:[(0,o.jsx)("span",{className:"text-white",children:"Total"}),(0,o.jsxs)("span",{className:"text-orange-300",children:["\u20b9",O]})]})]}),(0,o.jsx)("div",{className:"mt-4 p-3 bg-blue-500/10 border border-blue-500/20 rounded-md",children:(0,o.jsx)("p",{className:"text-sm text-blue-300",children:"\ud83d\ude9a Free delivery within university campus \u2022 \u20b92 developer fee included"})}),(0,o.jsx)("button",{onClick:z,disabled:h||0===d.length,className:"w-full mt-6 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 disabled:bg-gray-600 text-white font-semibold py-3 px-4 rounded-xl transition duration-200 flex items-center justify-center shadow-lg",children:h?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Placing Order..."]}):"Place Order - \u20b9".concat(O)}),(0,o.jsx)("p",{className:"text-xs text-gray-400 text-center mt-3",children:"Estimated delivery time: 20-30 minutes (University Campus)"})]})})]})]})};var m=s(3216),x=s(6446),h=s(3546),u=s(7784);const p=(0,u.A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var g=s(7095),b=s(9855),y=s(6174),f=s(1360);const v=(0,u.A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var j=s(5088),N=s(9350),w=s(6099);const k=()=>{const{cartItems:e,removeFromCart:t,increaseQty:s,decreaseQty:l,subtotal:u}=(0,i._)(),{isAuthenticated:k,user:C,provider:A}=(0,n.A)(),[S,M]=(0,a.useState)(!1),[P,R]=(0,a.useState)(window.innerWidth<768),[E,L]=(0,a.useState)(new Set),D=(0,m.Zp)();(0,a.useEffect)(()=>{const e=()=>{R(window.innerWidth<768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const F=()=>{navigator.vibrate&&P&&navigator.vibrate(30)},q=(e,t)=>{F(),t>0?s(e):l(e)},O=e=>{c.oR.success("Order placed successfully! Redirecting to your orders..."),D("/order-success",{state:{order:(0,r.A)((0,r.A)({},e),{},{estimatedDeliveryTime:new Date(Date.now()+18e5)}),fromCheckout:!0,autoRedirect:!0}}),setTimeout(()=>{D("/orders")},3e3)},z=u+0+2.5;if(S){const e="supabase"===A?null===C||void 0===C?void 0:C.id:null===C||void 0===C?void 0:C.uid;return(0,o.jsx)(d,{userId:e,onOrderSuccess:O})}return(0,o.jsxs)("div",{className:"relative min-h-screen bg-gradient-to-br from-gray-950 via-black to-gray-900 text-gray-100",children:[(0,o.jsx)("div",{className:"sticky top-0 z-50 backdrop-blur-md bg-black/50 border-b border-white/10 shadow-[0_4px_20px_rgba(0,0,0,0.3)]",children:(0,o.jsx)("div",{className:"px-4 py-4",children:(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("button",{onClick:()=>D(-1),className:"p-2 rounded-full hover:bg-white/10 active:scale-95 transition-all border border-white/10",children:(0,o.jsx)(p,{className:"w-5 h-5 text-gray-200"})}),(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)(g.A,{className:"w-6 h-6 text-orange-400"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-xl font-bold text-white",children:"My Cart"}),(0,o.jsxs)("p",{className:"text-sm text-gray-300",children:[e.length," ",1===e.length?"item":"items"]})]})]})]})})}),0===e.length?(0,o.jsx)("div",{className:"flex flex-col items-center justify-center px-4 py-20",children:(0,o.jsxs)(x.P.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,o.jsx)("div",{className:"w-24 h-24 mx-auto mb-6 bg-orange-500/15 rounded-full flex items-center justify-center border border-orange-400/20",children:(0,o.jsx)(g.A,{className:"w-12 h-12 text-orange-300"})}),(0,o.jsx)("h2",{className:"text-2xl font-bold text-white mb-3",children:"Your cart is empty"}),(0,o.jsx)("p",{className:"text-gray-300 mb-8 max-w-sm",children:"Looks like you haven't added any delicious items to your cart yet."}),(0,o.jsx)("button",{onClick:()=>D("/menu"),className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-8 py-3 rounded-xl font-semibold active:scale-95 transition-all duration-200 shadow-lg",children:"Browse Menu"})]})}):(0,o.jsxs)("div",{className:"pb-40",children:[(0,o.jsx)("div",{className:"px-4 py-4",children:(0,o.jsx)(h.N,{children:e.map((e,s)=>(0,o.jsx)(x.P.div,{className:"bg-white/5 backdrop-blur-sm rounded-2xl shadow-md border border-white/10 mb-4 overflow-hidden ".concat(E.has(e.id)?"opacity-50 scale-95":""),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20,scale:.95},transition:{delay:.05*s},children:(0,o.jsx)("div",{className:"p-4",children:(0,o.jsxs)("div",{className:"flex gap-4",children:[(0,o.jsx)("div",{className:"flex-shrink-0",children:(0,o.jsx)("img",{src:e.image||"/api/placeholder/80/80",alt:e.name,className:"w-20 h-20 rounded-xl object-cover"})}),(0,o.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,o.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,o.jsx)("h3",{className:"font-bold text-white text-lg leading-tight",children:e.name}),(0,o.jsx)("button",{onClick:()=>(async e=>{F(),L(t=>new Set([...t,e])),setTimeout(()=>{t(e),L(t=>{const s=new Set(t);return s.delete(e),s}),c.oR.success("Item removed from cart")},200)})(e.id),className:"p-1 rounded-full hover:bg-red-500/10 active:scale-90 transition-all",children:(0,o.jsx)(b.A,{className:"w-4 h-4 text-red-400"})})]}),(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsxs)("div",{className:"flex flex-col",children:[(0,o.jsxs)("span",{className:"text-lg font-bold text-white",children:["\u20b9",e.price*e.qty]}),(0,o.jsxs)("span",{className:"text-sm text-gray-300",children:["\u20b9",e.price," each"]})]}),(0,o.jsxs)("div",{className:"flex items-center gap-3 bg-orange-500/10 rounded-xl p-1 border border-orange-400/20",children:[(0,o.jsx)("button",{onClick:()=>q(e.id,-1),className:"p-2 rounded-lg bg-white/10 border border-white/10 shadow-sm active:scale-90 transition-transform",children:(0,o.jsx)(y.A,{className:"w-4 h-4 text-orange-300"})}),(0,o.jsx)("span",{className:"font-semibold text-orange-300 min-w-[24px] text-center",children:e.qty}),(0,o.jsx)("button",{onClick:()=>q(e.id,1),className:"p-2 rounded-lg bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-sm active:scale-90 transition-transform",children:(0,o.jsx)(f.A,{className:"w-4 h-4"})})]})]})]})]})})},e.id))})}),(0,o.jsx)("div",{className:"px-4 mb-4",children:(0,o.jsxs)(x.P.div,{className:"bg-white/5 backdrop-blur-sm rounded-2xl shadow-md border border-white/10 p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[(0,o.jsxs)("h3",{className:"font-bold text-white text-lg mb-4 flex items-center gap-2",children:[(0,o.jsx)(v,{className:"w-5 h-5 text-orange-400"}),"Order Summary"]}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsx)("span",{className:"text-gray-300",children:"Subtotal"}),(0,o.jsxs)("span",{className:"font-medium text-white",children:["\u20b9",u]})]}),(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)(j.A,{className:"w-4 h-4 text-gray-400"}),(0,o.jsx)("span",{className:"text-gray-300",children:"Delivery Fee"})]}),(0,o.jsx)("span",{className:"font-medium text-green-300",children:"Free delivery"})]}),(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)(N.A,{className:"w-4 h-4 text-gray-400"}),(0,o.jsx)("span",{className:"text-gray-300",children:"Platform Fee"})]}),(0,o.jsx)("span",{className:"font-medium text-white",children:"\u20b92.5"})]}),(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)(N.A,{className:"w-4 h-4 text-gray-400"}),(0,o.jsx)("span",{className:"text-gray-300",children:"Taxes & Fees"})]}),(0,o.jsx)("span",{className:"font-medium text-gray-400",children:"No taxes"})]}),(0,o.jsx)("div",{className:"border-t border-white/10 pt-3",children:(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsx)("span",{className:"text-lg font-bold text-white",children:"Total"}),(0,o.jsxs)("span",{className:"text-xl font-bold text-orange-300",children:["\u20b9",z]})]})})]})]})}),(0,o.jsxs)("div",{className:"px-4 mb-6 space-y-3",children:[(0,o.jsx)(x.P.div,{className:"rounded-2xl p-4 border border-green-500/20 bg-green-500/10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"p-2 bg-green-500/20 rounded-full",children:(0,o.jsx)(j.A,{className:"w-5 h-5 text-green-300"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"font-semibold text-green-300",children:"Delivery in 30 minutes"}),(0,o.jsx)("p",{className:"text-sm text-green-400",children:"Fresh food delivered to your doorstep"})]})]})}),(0,o.jsx)(x.P.div,{className:"rounded-2xl p-4 border border-orange-500/20 bg-orange-500/10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"p-2 bg-orange-500/20 rounded-full",children:(0,o.jsx)("span",{className:"text-lg",children:"\ud83c\udf93"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"font-semibold text-orange-300",children:"University Student?"}),(0,o.jsx)("p",{className:"text-sm text-orange-300/80",children:"Get FREE delivery to your campus! Select university delivery at checkout."})]})]})})]})]}),e.length>0&&(0,o.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-black/60 backdrop-blur-md border-t border-white/10 p-4 shadow-lg z-50",style:{paddingBottom:"env(safe-area-inset-bottom, 16px)"},children:(0,o.jsxs)(x.P.button,{onClick:()=>{if(0!==e.length){if(!k)return c.oR.error("Please login to place an order"),void D("/login",{state:{from:{pathname:"/cart"}}});F(),M(!0)}else c.oR.error("Your cart is empty")},className:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-4 rounded-2xl font-bold text-lg shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-transform duration-200",whileTap:{scale:.95},disabled:0===e.length,children:[(0,o.jsx)(w.A,{className:"w-5 h-5"}),(0,o.jsxs)("span",{children:["Proceed to Checkout \u2022 \u20b9",z]})]})})]})}},6099:(e,t,s)=>{s.d(t,{A:()=>r});const r=(0,s(7784).A)("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},6174:(e,t,s)=>{s.d(t,{A:()=>r});const r=(0,s(7784).A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},7095:(e,t,s)=>{s.d(t,{A:()=>r});const r=(0,s(7784).A)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]])},9350:(e,t,s)=>{s.d(t,{A:()=>r});const r=(0,s(7784).A)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},9855:(e,t,s)=>{s.d(t,{A:()=>r});const r=(0,s(7784).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=679.50387a72.chunk.js.map