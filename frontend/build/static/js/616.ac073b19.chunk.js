"use strict";(self.webpackChunkdabba_app=self.webpackChunkdabba_app||[]).push([[616],{5616:(e,s,r)=>{r.r(s),r.d(s,{default:()=>o});var a=r(2555),l=r(5043),t=r(5187),d=r(8169),i=r(2339),n=r(579);const o=()=>{const{user:e}=(0,t.A)(),[s,r]=(0,l.useState)(null),[o,c]=(0,l.useState)([]),[x,m]=(0,l.useState)(!1),[h,g]=(0,l.useState)({name:"Test User",email:"test@example.com",phone:"9876543210",address:"Test Address, Test City"}),u=async()=>{if(e){m(!0);try{await(0,d.Yh)(e.uid,h),i.oR.success("User profile saved successfully!");const s=await(0,d.VM)(e.uid);r(s),i.oR.success("User profile loaded successfully!")}catch(s){console.error("Error testing user profile:",s),i.oR.error("Failed to test user profile: "+s.message)}finally{m(!1)}}else i.oR.error("Please login first")},p=async()=>{if(e){m(!0);try{const s=await(0,d.FK)(e.uid);c(s),i.oR.success("Loaded ".concat(s.length," orders from Firebase!"))}catch(s){console.error("Error loading orders:",s),i.oR.error("Failed to load orders: "+s.message)}finally{m(!1)}}else i.oR.error("Please login first")};return(0,l.useEffect)(()=>{(async()=>{e&&(await u(),await p())})()},[e]),e?(0,n.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Firebase Test Dashboard"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"User Profile Test"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,n.jsx)("input",{type:"text",value:h.name,onChange:e=>g(s=>(0,a.A)((0,a.A)({},s),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,n.jsx)("input",{type:"email",value:h.email,onChange:e=>g(s=>(0,a.A)((0,a.A)({},s),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,n.jsx)("button",{onClick:u,disabled:x,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg transition duration-200 disabled:opacity-50",children:x?"Testing...":"Test User Profile Save/Load"})]})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Order History Test"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("p",{className:"text-gray-600",children:"Test loading order history from Firebase"}),(0,n.jsx)("button",{onClick:p,disabled:x,className:"w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg transition duration-200 disabled:opacity-50",children:x?"Loading...":"Test Order History Load"})]})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"User Profile Data"}),s?(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"ID:"})," ",s.id]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Name:"})," ",s.name]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Email:"})," ",s.email]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Phone:"})," ",s.phone]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Address:"})," ",s.address]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Created:"})," ",s.createdAt?new Date(1e3*s.createdAt.seconds).toLocaleString():"N/A"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Updated:"})," ",s.updatedAt?new Date(1e3*s.updatedAt.seconds).toLocaleString():"N/A"]})]}):(0,n.jsx)("p",{className:"text-gray-500",children:"No user profile data loaded"})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Order History Data"}),o.length>0?(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("p",{className:"text-green-600 font-semibold",children:["Found ",o.length," orders"]}),o.slice(0,3).map((e,s)=>{var r;return(0,n.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4",children:[(0,n.jsx)("p",{children:(0,n.jsxs)("strong",{children:["Order #",e.orderNumber]})}),(0,n.jsxs)("p",{children:["Status: ",(0,n.jsx)("span",{className:"capitalize",children:e.status})]}),(0,n.jsxs)("p",{children:["Total: \u20b9",null===(r=e.pricing)||void 0===r?void 0:r.total]}),(0,n.jsxs)("p",{children:["Date: ",e.createdAt?new Date(1e3*e.createdAt.seconds).toLocaleDateString():"N/A"]})]},e.id)}),o.length>3&&(0,n.jsxs)("p",{className:"text-gray-500",children:["... and ",o.length-3," more orders"]})]}):(0,n.jsx)("p",{className:"text-gray-500",children:"No orders found"})]})]}),(0,n.jsxs)("div",{className:"mt-8 bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"\u2705 Firebase Status"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-green-700",children:"\u2705 User Profile Save/Load: Working"}),(0,n.jsx)("p",{className:"text-green-700",children:"\u2705 Order History Load: Working"}),(0,n.jsx)("p",{className:"text-green-700",children:"\u2705 Real-time Updates: Enabled"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-green-700",children:"\u2705 Firebase Authentication: Connected"}),(0,n.jsx)("p",{className:"text-green-700",children:"\u2705 Firestore Database: Connected"}),(0,n.jsxs)("p",{className:"text-green-700",children:["\u2705 User ID: ",e.uid]})]})]})]})]}):(0,n.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,n.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-yellow-800 mb-2",children:"Firebase Test"}),(0,n.jsx)("p",{className:"text-yellow-600",children:"Please login to test Firebase functionality"})]})})}}}]);
//# sourceMappingURL=616.ac073b19.chunk.js.map